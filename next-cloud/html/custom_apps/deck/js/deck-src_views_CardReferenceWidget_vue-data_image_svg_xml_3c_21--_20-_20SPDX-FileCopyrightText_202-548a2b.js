"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_CardReferenceWidget_vue-data_image_svg_xml_3c_21--_20-_20SPDX-FileCopyrightText_202-548a2b"],{61727:(e,a,i)=>{i.d(a,{A:()=>n});var r=i(76333),s=i(63814),A=i(3227);const n={name:"AvatarList",components:{NcAvatar:r.Bx,NcPopover:r.rI,AccountMultiple:A.A},props:{users:{type:Array,default:()=>[]}},data:()=>({popoverVisible:!1}),computed:{firstUsers(){return this.users&&0!==this.users.length?this.users.slice(0,3):[]},avatarUrl:()=>t=>{if(1===t.type)return"icon-group";const e=t.participant.uid,a=(0,s.Jv)("/avatar/{user}/{size}",{user:e,size:32});return window.location.protocol+"//"+window.location.host+a},popover(){return this.users&&0!==this.users.length?[...this.users.slice(3).map((e=>({href:"#",icon:this.avatarUrl(e),text:e.participant.displayname+(1===e.type?" "+t("deck","(group)"):"")})))]:[]},avatarUsers(){return this.users?this.users.filter((t=>[0,1,7].includes(t.type))):[]}},methods:{togglePopover(){this.popover.length>0&&(this.popoverVisible=!this.popoverVisible)}}}},56073:(t,e,a)=>{a.d(e,{A:()=>i});const i={name:"DeckIcon",props:{title:{type:String,default:""},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},92070:(t,e,a)=>{a.d(e,{X:()=>i,Y:()=>r});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"avatars"},[e("div",[e("NcPopover",{scopedSlots:t._u([{key:"trigger",fn:function(a){let{attrs:i}=a;return[e("button",t._b({staticClass:"avatar-list",on:{click:function(t){t.stopPropagation()}}},"button",i,!1),[t.popover.length>0?e("div",[e("AccountMultiple",{staticClass:"avatardiv more-avatars",attrs:{size:24}})],1):t._e(),t._v(" "),t._l(t.firstUsers,(function(a){return e("div",{key:a.id},[0===a.type?e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"disable-menu":!0,"show-user-status":!1,size:32}}):t._e(),t._v(" "),1===a.type?e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"tooltip-message":a.participant.displayname+" "+t.t("deck","(Group)"),"is-no-user":!0,"disable-":!0,size:32}}):t._e(),t._v(" "),7===a.type?e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"tooltip-message":a.participant.displayname+" "+t.t("deck","(Team)"),"is-no-user":!0,"disable-":!0,size:32}}):t._e()],1)}))],2)]}}])},[t._v(" "),e("div",t._l(t.users,(function(a){return e("div",{key:a.id,staticClass:"avatar-list-entry"},[e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"disable-menu":!0,"is-no-user":0!==a.type,size:32}}),t._v(" "),e("div",{staticClass:"avatar-list-entry__label"},[t._v("\n\t\t\t\t\t\t"+t._s(a.participant.displayname)+"\n\t\t\t\t\t")])],1)})),0)])],1),t._v(" "),e("div",{staticClass:"avatar-print-list"},t._l(t.avatarUsers,(function(a){return e("div",{key:a.id,staticClass:"avatar-print-list-item"},[e("NcAvatar",{staticClass:"avatar-print-list-avatar",attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"disable-menu":!0,"is-no-user":0!==a.type,size:24}}),t._v("\n\t\t\t"+t._s(a.participant.displayname)+"\n\t\t")],1)})),0)])},r=[]},68188:(t,e,a)=>{a.d(e,{X:()=>i,Y:()=>r});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon deck-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:t.fillColor,height:t.size,width:t.size,version:"1.1",viewBox:"0 0 16 16"}},[e("rect",{attrs:{ry:"1",height:"8",width:"14",y:"7",x:"1"}}),t._v(" "),e("rect",{attrs:{ry:".5",height:"1",width:"12",y:"5",x:"2"}}),t._v(" "),e("rect",{attrs:{ry:".5",height:"1",width:"10",y:"3",x:"3"}}),t._v(" "),e("rect",{attrs:{ry:".5",height:"1",width:"8",y:"1",x:"4"}})])])},r=[]},44095:(t,e,a)=>{a.d(e,{A:()=>r});var i=a(99098);const r={methods:{textColor:t=>(0,i.Ay)(t??"ffffff").get("lab.l")>50?"#000000":"#ffffff",colorIsValid:t=>!!/[A-Fa-f0-9]{6}/.test(t),randomColor:()=>Math.floor(16777216*Math.random()).toString(16).padStart(6,"0")}}},41521:(t,e,a)=>{a.d(e,{A:()=>i});const i={mixins:[a(44095).A],computed:{labelStyle(){return t=>({backgroundColor:"#"+t.color,color:this.textColor(t.color)})}}}},4296:(t,e,a)=>{a.d(e,{A:()=>n});var i=a(71354),r=a.n(i),s=a(76314),A=a.n(s)()(r());A.push([t.id,".avatars[data-v-6596f216]{position:relative;flex-grow:1}.avatars[data-v-6596f216] .popovermenu{margin-right:-4px}.avatars[data-v-6596f216] .popovermenu img{padding:0;width:32px !important;height:32px !important;margin:6px;border-radius:50%}.avatar-list[data-v-6596f216]{float:right;display:inline-flex;flex-direction:row-reverse;padding:0;padding-right:12px;margin:0;border:0;background:rgba(0,0,0,0)}.avatar-list>div[data-v-6596f216]{height:32px}.avatar-list .avatardiv[data-v-6596f216],.avatar-list[data-v-6596f216] .avatardiv{width:32px;height:32px;box-sizing:content-box !important;margin-right:-12px;transition:margin-right .2s ease-in-out;border:2px solid var(--color-main-background)}.avatar-list .more-avatars[data-v-6596f216]{width:32px;height:32px;background-color:var(--color-background-dark) !important;cursor:pointer;color:var(--color-text-maxcontrast)}.avatar-list-entry[data-v-6596f216]{display:flex;padding:6px 12px}.avatar-list-entry__label[data-v-6596f216]{padding:4px 12px}.popovermenu[data-v-6596f216]{display:block;margin:40px -6px}.avatar-print-list[data-v-6596f216]{display:none}@media print{.avatar-list[data-v-6596f216]{display:none}.avatar-print-list-item[data-v-6596f216]{align-items:center;display:flex;gap:10px;margin-bottom:10px}.avatar-print-list[data-v-6596f216]{display:block;padding-top:5px}}","",{version:3,sources:["webpack://./src/components/cards/AvatarList.vue"],names:[],mappings:"AACA,0BACC,iBAAA,CACA,WAAA,CACA,uCACC,iBAAA,CACA,2CACC,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,UAAA,CACA,iBAAA,CAOH,8BACC,WAAA,CACA,mBAAA,CACA,0BAAA,CACA,SAAA,CACA,kBAPe,CAQf,QAAA,CACA,QAAA,CACA,wBAAA,CAEA,kCACC,WAAA,CAGD,kFAEC,UAAA,CACA,WAAA,CACA,iCAAA,CACA,kBAAA,CACA,uCAAA,CACA,6CAAA,CAGD,4CACC,UAAA,CACA,WAAA,CACA,wDAAA,CACA,cAAA,CACA,mCAAA,CAKF,oCACC,YAAA,CACA,gBAAA,CAEA,2CACC,gBAAA,CAIF,8BACC,aAAA,CACA,gBAAA,CAGD,oCACC,YAAA,CAGD,aACC,8BACC,YAAA,CAGD,yCACC,kBAAA,CACA,YAAA,CACA,QAAA,CACA,kBAAA,CAGD,oCACC,aAAA,CACA,eAAA,CAAA",sourceRoot:""}]);const n=A},12499:(t,e,a)=>{a.d(e,{A:()=>n});var i=a(71354),r=a.n(i),s=a(76314),A=a.n(s)()(r());A.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.labels[data-v-43d89baa]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-43d89baa]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-43d89baa]:hover{overflow:unset}.labels li span[data-v-43d89baa]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.deck-card-reference[data-v-43d89baa]{width:100%;white-space:normal;padding:12px}.editor__content .deck-card-reference[data-v-43d89baa]{width:calc(100% - 24px)}.deck-card-reference .link[data-v-43d89baa]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-card-reference .line[data-v-43d89baa]{display:flex;align-items:center}.deck-card-reference .line .icon[data-v-43d89baa]{margin-right:4px}.deck-card-reference .line .title-icon[data-v-43d89baa]{margin-right:8px}.deck-card-reference .due-date[data-v-43d89baa]{display:flex;align-items:center}.deck-card-reference .labels[data-v-43d89baa]{margin:8px 0}.deck-card-reference .description-assignees[data-v-43d89baa]{width:100%;display:flex;align-items:start}.deck-card-reference .description-assignees .icon[data-v-43d89baa]{align-self:start;margin-top:8px}.deck-card-reference .description-assignees .description[data-v-43d89baa]{margin-right:8px;padding-top:6px;max-height:250px;overflow:scroll}.deck-card-reference .description-assignees .description.short-description[data-v-43d89baa]{max-height:25px;overflow:hidden}.deck-card-reference .description-assignees .card-assignees[data-v-43d89baa]{margin-top:0;height:36px;flex-grow:unset}.deck-card-reference .spacer[data-v-43d89baa]{flex-grow:1}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/views/CardReferenceWidget.vue"],names:[],mappings:"AAAA;;;EAAA,CAOA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CC/BH,sCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,uDACC,uBAAA,CAKD,4CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,4CACC,YAAA,CACA,kBAAA,CACA,kDACC,gBAAA,CAED,wDACC,gBAAA,CAIF,gDACC,YAAA,CACA,kBAAA,CAGD,8CACC,YAAA,CAGD,6DACC,UAAA,CACA,YAAA,CACA,iBAAA,CAEA,mEACC,gBAAA,CACA,cAAA,CAGD,0EACC,gBAAA,CACA,eAAA,CACA,gBAAA,CACA,eAAA,CACA,4FACC,eAAA,CACA,eAAA,CAIF,6EACC,YAAA,CACA,WAAA,CACA,eAAA,CAIF,8CACC,WAAA",sourceRoot:""}]);const n=A},86397:(t,e,a)=>{var i=a(85072),r=a.n(i),s=a(97825),A=a.n(s),n=a(77659),l=a.n(n),d=a(55056),o=a.n(d),c=a(10540),C=a.n(c),p=a(41113),u=a.n(p),v=a(4296),g={};g.styleTagTransform=u(),g.setAttributes=o(),g.insert=l().bind(null,"head"),g.domAPI=A(),g.insertStyleElement=C();r()(v.A,g),v.A&&v.A.locals&&v.A.locals},16025:(t,e,a)=>{a.d(e,{A:()=>r});const i={name:"CalendarBlankIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon calendar-blank-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports},99594:(t,e,a)=>{a.d(e,{A:()=>r});const i={name:"CardBulletedOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon card-bulleted-outline-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12,15H10V13H12V15M18,15H14V13H18V15M8,11H6V9H8V11M18,11H10V9H18V11M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports},24319:(t,e,a)=>{a.d(e,{A:()=>s});var i=a(92220),r=a(52175);const s=(0,a(14486).A)(r.A,i.X,i.Y,!1,null,null,null).exports},92802:(t,e,a)=>{a.d(e,{A:()=>i});const i={name:"TextIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},96095:(t,e,a)=>{a.d(e,{A:()=>s});var i=a(92070),r=a(25288);a(16866);const s=(0,a(14486).A)(r.A,i.X,i.Y,!1,null,"6596f216",null).exports},87693:(t,e,a)=>{a.d(e,{A:()=>s});var i=a(68188),r=a(71262);const s=(0,a(14486).A)(r.A,i.X,i.Y,!1,null,null,null).exports},42613:(e,a,i)=>{i.d(a,{default:()=>I});var r=i(16025),s=i(24319),A=i(99594),n=i(87693),l=i(96095),d=i(41521),o=i(76333),c=i(51651),C=i(63814);const p={name:"CardReferenceWidget",components:{AvatarList:l.A,DeckIcon:n.A,CalendarBlankIcon:r.A,CardBulletedOutlineIcon:A.A,TextIcon:s.A,NcRichText:o.z4},mixins:[d.A],props:{richObjectType:{type:String,default:""},richObject:{type:Object,default:null},accessible:{type:Boolean,default:!0}},data:()=>({shortDescription:!0}),computed:{card(){return this.richObject.card},board(){return this.richObject.board},stack(){return this.richObject.stack},cardLink(){return(0,C.Jv)("/apps/deck/#/board/{boardId}/card/{cardId}",{boardId:this.board.id,cardId:this.card.id})},boardLink(){return(0,C.Jv)("/apps/deck/#/board/{boardId}",{boardId:this.board.id})},cardTooltip(){return t("deck","* Created on {created}\n* Last modified on {lastMod}\n* {nbAttachments} attachments\n* {nbComments} comments",{created:c.A.unix(this.card.createdAt).format("LLL"),lastMod:c.A.unix(this.card.lastModified).format("LLL"),nbAttachments:this.card.attachments.length,nbComments:this.card.commentsCount})},stackTooltip(){return t("deck","{nbCards} cards",{nbCards:this.stack.cards.length})},dueDate(){return this.card.duedate?(0,c.A)(this.card.duedate).fromNow():null},formattedDueDate(){return this.card.duedate?t("deck","Due on {date}",{date:(0,c.A)(this.card.duedate).format("LLL")}):null},labelsSorted(){return[...this.card.labels].sort(((t,e)=>t.title<e.title?-1:1))}},methods:{}};var u=i(85072),v=i.n(u),g=i(97825),h=i.n(g),f=i(77659),m=i.n(f),b=i(55056),x=i.n(b),k=i(10540),_=i.n(k),y=i(41113),w=i.n(y),B=i(12499),D={};D.styleTagTransform=w(),D.setAttributes=x(),D.insert=m().bind(null,"head"),D.domAPI=h(),D.insertStyleElement=_();v()(B.A,D);B.A&&B.A.locals&&B.A.locals;const I=(0,i(14486).A)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"deck-card-reference"},[e("div",{staticClass:"line"},[e("CardBulletedOutlineIcon",{staticClass:"title-icon",attrs:{size:20}}),t._v(" "),e("strong",[e("a",{staticClass:"link",attrs:{href:t.cardLink,title:t.cardTooltip,target:"_blank"}},[t._v("\n\t\t\t\t"+t._s(t.card.title)+"\n\t\t\t")])]),t._v(" "),t.dueDate?e("div",{staticClass:"spacer"}):t._e(),t._v(" "),t.dueDate?e("span",{staticClass:"due-date",attrs:{title:t.t("Due date")+": "+t.formattedDueDate}},[e("CalendarBlankIcon",{staticClass:"icon",attrs:{size:20}}),t._v("\n\t\t\t"+t._s(t.dueDate)+"\n\t\t")],1):t._e()],1),t._v(" "),e("div",{staticClass:"line"},[e("DeckIcon",{staticClass:"title-icon",attrs:{size:20}}),t._v(" "),e("a",{staticClass:"link",attrs:{title:t.stackTooltip,href:t.boardLink,target:"_blank"}},[t._v("\n\t\t\t"+t._s(t.t("deck","{stack} in {board}",{stack:t.stack.title,board:t.board.title}))+"\n\t\t")])],1),t._v(" "),e("div",[t.card.labels&&t.card.labels.length?e("transition-group",{staticClass:"labels",attrs:{name:"zoom",tag:"ul"},on:{click:function(e){return e.stopPropagation(),t.openCard.apply(null,arguments)}}},t._l(t.labelsSorted,(function(a){return e("li",{key:a.id,style:t.labelStyle(a)},[e("span",[t._v(t._s(a.title))])])})),0):t._e()],1),t._v(" "),e("div",{staticClass:"line description-assignees"},[t.card.description?e("TextIcon",{staticClass:"icon",attrs:{size:20}}):t._e(),t._v(" "),t.card.description?e("div",{class:{description:!0,"short-description":t.shortDescription}},[e("NcRichText",{attrs:{title:t.shortDescription?t.t("deck","Click to expand description"):void 0,text:t.card.description,"use-markdown":!0},nativeOn:{click:function(e){t.shortDescription=!t.shortDescription}}})],1):t._e(),t._v(" "),t.card.assignedUsers.length>0?e("div",{staticClass:"spacer"}):t._e(),t._v(" "),t.card.assignedUsers.length>0?e("AvatarList",{staticClass:"card-assignees",attrs:{users:t.card.assignedUsers}}):t._e()],1)])}),[],!1,null,"43d89baa",null).exports},25288:(t,e,a)=>{a.d(e,{A:()=>i});const i=a(61727).A},71262:(t,e,a)=>{a.d(e,{A:()=>i});const i=a(56073).A},16866:(t,e,a)=>{a(86397)},52175:(t,e,a)=>{a.d(e,{A:()=>i});const i=a(92802).A},92220:(t,e,a)=>{a.d(e,{X:()=>i,Y:()=>r});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon text-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},r=[]},27518:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M15.4%2016.6L10.8%2012l4.6-4.6L14%206l-6%206%206%206%201.4-1.4z%27/%3e%3c/svg%3e"},27514:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M18.4%207.4L17%206l-6%206%206%206%201.4-1.4-4.6-4.6%204.6-4.6m-6%200L11%206l-6%206%206%206%201.4-1.4L7.8%2012l4.6-4.6z%27/%3e%3c/svg%3e"},79722:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M5.6%207.4L7%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6m6%200L13%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6z%27/%3e%3c/svg%3e"},86886:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M8.6%2016.6l4.6-4.6-4.6-4.6L10%206l6%206-6%206-1.4-1.4z%27/%3e%3c/svg%3e"}}]);
//# sourceMappingURL=deck-src_views_CardReferenceWidget_vue-data_image_svg_xml_3c_21--_20-_20SPDX-FileCopyrightText_202-548a2b.js.map?v=7c04f76eb4c9b795c278