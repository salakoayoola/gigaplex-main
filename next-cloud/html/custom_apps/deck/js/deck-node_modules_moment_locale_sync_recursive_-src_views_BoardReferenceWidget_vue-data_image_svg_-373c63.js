(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["node_modules_moment_locale_sync_recursive_-src_views_BoardReferenceWidget_vue-data_image_svg_-373c63"],{61727:(e,a,r)=>{"use strict";r.d(a,{A:()=>n});var s=r(76333),i=r(63814),d=r(3227);const n={name:"AvatarList",components:{NcAvatar:s.Bx,NcPopover:s.rI,AccountMultiple:d.A},props:{users:{type:Array,default:()=>[]}},data:()=>({popoverVisible:!1}),computed:{firstUsers(){return this.users&&0!==this.users.length?this.users.slice(0,3):[]},avatarUrl:()=>t=>{if(1===t.type)return"icon-group";const e=t.participant.uid,a=(0,i.Jv)("/avatar/{user}/{size}",{user:e,size:32});return window.location.protocol+"//"+window.location.host+a},popover(){return this.users&&0!==this.users.length?[...this.users.slice(3).map((e=>({href:"#",icon:this.avatarUrl(e),text:e.participant.displayname+(1===e.type?" "+t("deck","(group)"):"")})))]:[]},avatarUsers(){return this.users?this.users.filter((t=>[0,1,7].includes(t.type))):[]}},methods:{togglePopover(){this.popover.length>0&&(this.popoverVisible=!this.popoverVisible)}}}},92070:(t,e,a)=>{"use strict";a.d(e,{X:()=>r,Y:()=>s});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"avatars"},[e("div",[e("NcPopover",{scopedSlots:t._u([{key:"trigger",fn:function(a){let{attrs:r}=a;return[e("button",t._b({staticClass:"avatar-list",on:{click:function(t){t.stopPropagation()}}},"button",r,!1),[t.popover.length>0?e("div",[e("AccountMultiple",{staticClass:"avatardiv more-avatars",attrs:{size:24}})],1):t._e(),t._v(" "),t._l(t.firstUsers,(function(a){return e("div",{key:a.id},[0===a.type?e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"disable-menu":!0,"show-user-status":!1,size:32}}):t._e(),t._v(" "),1===a.type?e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"tooltip-message":a.participant.displayname+" "+t.t("deck","(Group)"),"is-no-user":!0,"disable-":!0,size:32}}):t._e(),t._v(" "),7===a.type?e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"tooltip-message":a.participant.displayname+" "+t.t("deck","(Team)"),"is-no-user":!0,"disable-":!0,size:32}}):t._e()],1)}))],2)]}}])},[t._v(" "),e("div",t._l(t.users,(function(a){return e("div",{key:a.id,staticClass:"avatar-list-entry"},[e("NcAvatar",{attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"disable-menu":!0,"is-no-user":0!==a.type,size:32}}),t._v(" "),e("div",{staticClass:"avatar-list-entry__label"},[t._v("\n\t\t\t\t\t\t"+t._s(a.participant.displayname)+"\n\t\t\t\t\t")])],1)})),0)])],1),t._v(" "),e("div",{staticClass:"avatar-print-list"},t._l(t.avatarUsers,(function(a){return e("div",{key:a.id,staticClass:"avatar-print-list-item"},[e("NcAvatar",{staticClass:"avatar-print-list-avatar",attrs:{user:a.participant.uid,"display-name":a.participant.displayname,"disable-menu":!0,"is-no-user":0!==a.type,size:24}}),t._v("\n\t\t\t"+t._s(a.participant.displayname)+"\n\t\t")],1)})),0)])},s=[]},41521:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});const r={mixins:[a(44095).A],computed:{labelStyle(){return t=>({backgroundColor:"#"+t.color,color:this.textColor(t.color)})}}}},74403:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".activity .activity--header[data-v-4ec0d815]{display:flex;padding:10px}.activity .activity--icon[data-v-4ec0d815]{width:16px;height:16px;flex-shrink:0;flex-grow:0}.activity .activity--subject[data-v-4ec0d815]{margin-left:10px}.activity .activity--message[data-v-4ec0d815]{margin-left:var(--default-clickable-area);color:var(--color-text-light);margin-bottom:10px}.activity .activity--timestamp[data-v-4ec0d815]{flex-grow:1;color:var(--color-text-maxcontrast);text-align:right;font-size:.8em;padding:1px}","",{version:3,sources:["webpack://./src/components/ActivityEntry.vue"],names:[],mappings:"AAGC,6CACC,YAAA,CACA,YAAA,CAGD,2CACC,UAAA,CACA,WAAA,CACA,aAAA,CACA,WAAA,CAED,8CACC,gBAAA,CAED,8CACC,yCAAA,CACA,6BAAA,CACA,kBAAA,CAED,gDACC,WAAA,CACA,mCAAA,CACA,gBAAA,CACA,cAAA,CACA,WAAA",sourceRoot:""}]);const n=d},87517:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".controls[data-v-8382b7c2]{display:flex;margin:calc(var(--default-grid-baseline)*2);height:var(--default-clickable-area);padding-left:var(--default-clickable-area)}.controls .board-title[data-v-8382b7c2]{display:flex;align-items:center}.controls .board-title h2[data-v-8382b7c2]{margin:0;margin-right:10px;font-size:18px}.controls .board-title .board-bullet[data-v-8382b7c2]{display:inline-block;width:16px;height:16px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin:var(--default-grid-baseline)}.controls #stack-add form[data-v-8382b7c2]{display:flex}#app-navigation-toggle-custom[data-v-8382b7c2]{position:static;width:var(--default-clickable-area);height:var(--default-clickable-area);cursor:pointer;opacity:1;display:inline-block !important}.board-actions[data-v-8382b7c2]{flex-grow:1;order:100;display:flex;justify-content:flex-end}.board-action-buttons[data-v-8382b7c2]{display:flex}.deck-search[data-v-8382b7c2]{display:flex;align-items:center;justify-content:center}.deck-search input[type=search][data-v-8382b7c2]{background-position:5px;padding-left:24px !important}.filter--item input+label[data-v-8382b7c2]{display:block;padding:var(--default-grid-baseline) 0}.filter--item input+label .avatardiv[data-v-8382b7c2]{vertical-align:middle;margin-bottom:2px;margin-right:3px}.filter--item input+label .label[data-v-8382b7c2]{padding:5px;border-radius:3px}.filter[data-v-8382b7c2]{width:240px;max-height:calc(100vh - 150px);position:relative;overflow:auto;padding:8px}.filter h3[data-v-8382b7c2]{margin-top:0px;margin-bottom:5px}.filter-button[data-v-8382b7c2]{padding:0;border-radius:50%;width:var(--default-clickable-area);height:var(--default-clickable-area)}.filter-button[data-popper-shown][data-v-8382b7c2]{background-color:var(--color-background-hover)}.filter-button[data-popper-shown].button-vue--vue-primary[data-v-8382b7c2]{background-color:var(--color-primary-element)}","",{version:3,sources:["webpack://./src/components/Controls.vue"],names:[],mappings:"AACA,2BACC,YAAA,CACA,2CAAA,CACA,oCAAA,CACA,0CAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CAEA,2CACC,QAAA,CACA,iBAAA,CACA,cAAA,CAGD,sDACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,mCAAA,CAIF,2CACC,YAAA,CAIF,+CACC,eAAA,CACA,mCAAA,CACA,oCAAA,CACA,cAAA,CACA,SAAA,CACA,+BAAA,CAGD,gCACC,WAAA,CACA,SAAA,CACA,YAAA,CACA,wBAAA,CAGD,uCACC,YAAA,CAGD,8BACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,iDACC,uBAAA,CACA,4BAAA,CAKD,2CACC,aAAA,CACA,sCAAA,CACA,sDACC,qBAAA,CACA,iBAAA,CACA,gBAAA,CAED,kDACC,WAAA,CACA,iBAAA,CAKH,yBACC,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,aAAA,CACA,WAAA,CAGD,4BACC,cAAA,CACA,iBAAA,CAGD,gCACC,SAAA,CACA,iBAAA,CACA,mCAAA,CACA,oCAAA,CAEA,mDACC,8CAAA,CACA,2EACC,6CAAA",sourceRoot:""}]);const n=d},17:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".popover:focus{outline:2px solid var(--color-main-text)}","",{version:3,sources:["webpack://./src/components/Controls.vue"],names:[],mappings:"AACA,eACC,wCAAA",sourceRoot:""}]);const n=d},50985:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".avatar-list[data-v-3a1cc12a]{min-height:var(--default-clickable-area);align-items:center;padding-right:.5em;border:none;background-color:var(--color-main-background);margin:0;padding-left:6px;display:inline-flex;flex-direction:row-reverse}.avatar-list[data-v-3a1cc12a]:focus{background-color:#eee}.avatar-wrapper[data-v-3a1cc12a]{background-color:#b9b9b9;border-radius:50%;border:1px solid var(--color-border-dark);width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal;z-index:1;overflow:hidden;box-sizing:content-box !important;margin-left:-8px}","",{version:3,sources:["webpack://./src/components/SessionList.vue"],names:[],mappings:"AAEA,8BACC,wCAAA,CACA,kBAAA,CACA,kBAAA,CACA,WAAA,CACA,6CAAA,CACA,QAAA,CACA,gBAAA,CACA,mBAAA,CACA,0BAAA,CAEA,oCACC,qBAAA,CAKF,iCACC,wBAAA,CACA,iBAAA,CACA,yCAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA,CACA,SAAA,CACA,eAAA,CACA,iCAAA,CACA,gBAAA",sourceRoot:""}]);const n=d},79329:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.fade-enter-active[data-v-046cdef2]{transition:opacity 250ms}.fade-enter[data-v-046cdef2],.fade-leave-to[data-v-046cdef2]{opacity:0}.zoom-appear-active-class[data-v-046cdef2],.zoom-enter-active[data-v-046cdef2]{animation:zoom-in-046cdef2 var(--animation-quick)}.zoom-leave-active[data-v-046cdef2]{animation:zoom-in-046cdef2 var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-046cdef2{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */form[data-v-046cdef2]{text-align:center;display:flex;width:100%;margin:auto;margin-top:calc(var(--default-grid-baseline)*4);gap:var(--default-grid-baseline)}form input[type=text][data-v-046cdef2]{flex-grow:1}form button[type=submit][data-v-046cdef2]{flex-shrink:0}.board-wrapper[data-v-046cdef2]{position:relative;width:100%;height:100%;max-height:calc(100vh - 50px);display:flex;flex-direction:column}.board[data-v-046cdef2]{padding-left:16px;position:relative;max-height:calc(100% - var(--default-clickable-area));overflow:hidden;overflow-x:auto;flex-grow:1}.smooth-dnd-container.horizontal[data-v-046cdef2]{display:flex;align-items:stretch;height:100%}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper{display:flex;height:auto}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack{display:flex;flex-direction:column;position:relative}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical{flex-grow:1;display:flex;flex-direction:column;margin-left:12px;padding-right:12px;overflow-x:hidden;overflow-y:auto;padding-top:15px;margin-top:-10px;scrollbar-gutter:stable}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical>.smooth-dnd-draggable-wrapper{overflow:initial}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper{height:auto}","",{version:3,sources:["webpack://./src/css/animations.scss","webpack://./src/css/variables.scss","webpack://./src/components/board/Board.vue"],names:[],mappings:"AAAA;;;EAAA,CAIA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CC5BF;;;EAAA,CCIA,sBACC,iBAAA,CACA,YAAA,CACA,UAAA,CACA,WAAA,CACA,+CAAA,CACA,gCAAA,CAEA,uCACC,WAAA,CAED,0CACC,aAAA,CAIF,gCACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,6BAAA,CACA,YAAA,CACA,qBAAA,CAGD,wBACC,iBDtBgB,CCuBhB,iBAAA,CACA,qDAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CAOD,kDACC,YAAA,CACA,mBAAA,CACA,WAAA,CAEA,wGACC,YAAA,CACA,WAAA,CAEA,+GACC,YAAA,CACA,qBAAA,CACA,iBAAA,CAEA,8IACC,WAAA,CACA,YAAA,CACA,qBAAA,CAEA,gBDvDa,CCwDb,kBDxDa,CCyDb,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,uBAAA,CAGD,4KACC,gBAAA,CAGD,4KACC,WAAA",sourceRoot:""}]);const n=d},59311:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,'/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.stack[data-v-5851d20e]{width:316px}.stack__header[data-v-5851d20e]{display:flex;position:sticky;top:0;z-index:100;padding-left:8px;padding-right:8px;margin:6px;margin-top:0;cursor:grab;background-color:var(--color-main-background)}.stack__header[data-v-5851d20e]:before{content:" ";display:block;position:absolute;width:calc(100% - 16px);height:20px;top:30px;left:0px;z-index:99;transition:top var(--animation-slow);background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%)}body.theme--dark .stack__header[data-v-5851d20e]:before{background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%)}.stack__header>*[data-v-5851d20e]{position:relative;z-index:100}.stack__header h3[data-v-5851d20e],.stack__header form[data-v-5851d20e]{flex-grow:1;display:flex;cursor:inherit;margin:0}.stack__header h3 input[type=text][data-v-5851d20e],.stack__header form input[type=text][data-v-5851d20e]{flex-grow:1}.stack__header h3.stack__title[data-v-5851d20e]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px;border-radius:3px;padding:4px 4px;font-size:var(--default-font-size)}.stack__header h3.stack__title[data-v-5851d20e]:focus-visible{outline:2px solid var(--color-border-dark);border-radius:3px}.stack__header form[data-v-5851d20e]{margin:-4px}.stack__header form input[data-v-5851d20e]{font-weight:bold;padding:0 6px}.stack__header form input[type=submit][data-v-5851d20e]{border-style:solid;border-left-style:none}.stack__header[data-v-5851d20e] .action-item,.stack__header[data-v-5851d20e] .v-popper--theme-dropdown{display:flex}.stack__card-add[data-v-5851d20e]{flex-shrink:0;z-index:100;display:flex;margin-bottom:5px;padding-top:var(--default-grid-baseline);background-color:var(--color-main-background)}.stack__card-add form[data-v-5851d20e]{display:flex;margin-left:12px;margin-right:12px;width:100%;border:2px solid var(--color-border-maxcontrast);border-radius:var(--border-radius-large);overflow:hidden;padding:2px}.stack__card-add.icon-loading-small[data-v-5851d20e]:after,.stack__card-add.icon-loading-small-dark[data-v-5851d20e]:after{margin-left:calc(50% - 25px)}.stack__card-add input[type=text][data-v-5851d20e]{flex-grow:1;padding-right:16px}.stack__card-add input[data-v-5851d20e]{border:none;margin:0;padding:4px}.slide-top-enter-active[data-v-5851d20e],.slide-top-leave-active[data-v-5851d20e]{transition:all 100ms ease}.slide-top-enter[data-v-5851d20e],.slide-top-leave-to[data-v-5851d20e]{transform:translateY(-10px);opacity:0}.slide-bottom-enter-active[data-v-5851d20e],.slide-bottom-leave-active[data-v-5851d20e]{transition:all 100ms ease}.slide-bottom-enter[data-v-5851d20e],.slide-bottom-leave-to[data-v-5851d20e]{transform:translateY(20px);opacity:0}.modal__content[data-v-5851d20e]{width:25vw;min-width:250px;min-height:100px;text-align:center;margin:20px 20px 20px 20px}.modal__content button[data-v-5851d20e]{float:right}progress[data-v-5851d20e]{margin-top:3px;margin-bottom:30px}',"",{version:3,sources:["webpack://./src/css/variables.scss","webpack://./src/components/board/Stack.vue"],names:[],mappings:"AAAA;;;EAAA,CCMA,wBACC,WAAA,CAGD,gCACC,YAAA,CACA,eAAA,CACA,KAAA,CACA,WAAA,CACA,gBDXe,CCYf,iBDZe,CCaf,UAAA,CACA,YAAA,CACA,WAAA,CACA,6CAAA,CAGA,uCACC,WAAA,CACA,aAAA,CACA,iBAAA,CACA,uBAAA,CACA,WAAA,CACA,QAAA,CACA,QAAA,CACA,UAAA,CACA,oCAAA,CAEA,uGAAA,CACA,wDACC,iGAAA,CAIF,kCACC,iBAAA,CACA,WAAA,CAGD,wEACC,WAAA,CACA,YAAA,CACA,cAAA,CACA,QAAA,CAEA,0GACC,WAAA,CAIF,gDACC,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CACA,eAAA,CACA,kCAAA,CAEA,8DACC,0CAAA,CACA,iBAAA,CAIF,qCACC,WAAA,CACA,2CACC,gBAAA,CACA,aAAA,CAED,wDACC,kBAAA,CACA,sBAAA,CAKD,uGAEC,YAAA,CAKH,kCACC,aAAA,CACA,WAAA,CACA,YAAA,CACA,iBAAA,CACA,wCAAA,CACA,6CAAA,CAEA,uCACC,YAAA,CACA,gBD/Fe,CCgGf,iBDhGe,CCiGf,UAAA,CACA,gDAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CAGD,2HAEC,4BAAA,CAGD,mDACC,WAAA,CACA,kBAAA,CAGD,wCACC,WAAA,CACA,QAAA,CACA,WAAA,CAQF,kFAEC,yBAAA,CAGD,uEACC,2BAAA,CACA,SAAA,CAGD,wFAEC,yBAAA,CAGD,6EACC,0BAAA,CACA,SAAA,CAGD,iCACC,UAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CACA,0BAAA,CAGD,wCACC,WAAA,CAGD,0BACC,cAAA,CACA,kBAAA",sourceRoot:""}]);const n=d},41007:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"section.app-sidebar__tab--active{min-height:auto;display:flex;flex-direction:column;height:100%}.modal-container{overflow:hidden}.modal__card .app-sidebar{box-sizing:unset;border:0;min-width:calc(100% - 28px);position:relative;top:0;left:0;right:0;max-width:calc(100% - 28px);min-height:calc(100vh - var(--header-height)*4);padding:0 14px;height:97%;overflow:hidden !important;user-select:text;-webkit-user-select:text}.modal__card .app-sidebar .app-sidebar-header__mainname-container{padding-top:calc(var(--default-grid-baseline, 4px)*2)}.modal__card .app-sidebar .app-sidebar-tabs{max-height:90%}.modal__card .app-sidebar .app-sidebar__tab{min-height:calc(100% - 20px);max-height:calc(100% - 20px)}.modal__card .app-sidebar:deep .app-sidebar-header{position:sticky;top:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar-tabs__nav{position:sticky;top:87px;margin:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar__tab{overflow:initial}.modal__card .app-sidebar:deep #emptycontent,.modal__card .app-sidebar:deep .emptycontent{margin-top:88px}","",{version:3,sources:["webpack://./src/components/card/CardSidebar.vue"],names:[],mappings:"AAEA,iCACC,eAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CAGD,iBACC,eAAA,CAKD,0BACC,gBAAA,CAEA,QAAA,CACA,2BAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,2BAAA,CACA,+CAAA,CACA,cAAA,CACA,UAAA,CACA,0BAAA,CACA,gBAAA,CACA,wBAAA,CAEA,kEACC,qDAAA,CAGD,4CACC,cAAA,CAGD,4CACC,4BAAA,CACA,4BAAA,CAKA,mDACC,eAAA,CACA,KAAA,CACA,WAAA,CACA,6CAAA,CAED,sDACC,eAAA,CACA,QAAA,CACA,QAAA,CACA,WAAA,CACA,6CAAA,CAGD,iDACC,gBAAA,CAGD,0FACC,eAAA",sourceRoot:""}]);const n=d},73490:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-cd53af20]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-cd53af20]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-cd53af20] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-cd53af20]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;position:absolute;bottom:var(--default-grid-baseline);right:var(--default-grid-baseline)}.comment-form form input[type=submit][data-v-cd53af20]:disabled{opacity:.7}.comment[data-v-cd53af20]{margin-bottom:10px}.comment--header[data-v-cd53af20]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-cd53af20]{padding:10px}.comment--header .spacer[data-v-cd53af20]{flex-grow:1}.comment--header .timestamp[data-v-cd53af20]{color:var(--color-text-maxcontrast)}.comment--content[data-v-cd53af20]{margin-left:var(--default-clickable-area);word-break:break-word}","",{version:3,sources:["webpack://./src/css/comments.scss"],names:[],mappings:"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,iBAAA,CACA,mCAAA,CACA,kCAAA,CAEA,gEACC,UAAA,CAKH,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA",sourceRoot:""}]);const n=d},9845:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".section-wrapper[data-v-1f76018f]{display:flex;max-width:100%;margin-top:10px}.section-wrapper .section-label[data-v-1f76018f]{background-position:0px center;width:28px;margin-left:9px;flex-shrink:0}.section-wrapper .section-details[data-v-1f76018f]{flex-grow:1;display:flex;flex-wrap:wrap}.section-wrapper .section-details .remove-due-button[data-v-1f76018f]{margin-top:-2px;margin-left:6px}.button-group[data-v-1f76018f]{width:100%;display:flex}.button-group button[data-v-1f76018f]{width:100%}.done[data-v-1f76018f]{display:flex}.tag[data-v-1f76018f]{flex-grow:0;flex-shrink:1;overflow:hidden;padding:0px 5px;border-radius:15px;font-size:85%;margin-right:3px}.avatarLabel[data-v-1f76018f]{padding:6px}.section-details[data-v-1f76018f] .multiselect__tags-wrap{flex-wrap:wrap}.avatar-list--readonly .avatardiv[data-v-1f76018f]{margin-right:3px}.avatarlist--inline[data-v-1f76018f]{display:flex;align-items:center;margin-right:3px}.avatarlist--inline .avatarLabel[data-v-1f76018f]{padding:0}.multiselect[data-v-1f76018f] .multiselect__tags-wrap{z-index:2}.multiselect.multiselect--active[data-v-1f76018f] .multiselect__tags-wrap{z-index:0}","",{version:3,sources:["webpack://./src/components/card/CardSidebarTabDetails.vue"],names:[],mappings:"AACA,kCACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,iDACC,8BAAA,CACA,UAAA,CACA,eAAA,CACA,aAAA,CAGD,mDACC,WAAA,CACA,YAAA,CACA,cAAA,CAEA,sEACC,eAAA,CACA,eAAA,CAKH,+BACC,UAAA,CACA,YAAA,CAEA,sCACC,UAAA,CAIF,uBACC,YAAA,CAGD,sBACC,WAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,aAAA,CACA,gBAAA,CAGD,8BACC,WAAA,CAGD,0DACC,cAAA,CAGD,mDACC,gBAAA,CAGD,qCACC,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,kDACC,SAAA,CAIF,sDACC,SAAA,CAGD,0EACC,SAAA",sourceRoot:""}]);const n=d},93219:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-f4e3639e]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-f4e3639e]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-f4e3639e] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-f4e3639e]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;position:absolute;bottom:var(--default-grid-baseline);right:var(--default-grid-baseline)}.comment-form form input[type=submit][data-v-f4e3639e]:disabled{opacity:.7}.comment[data-v-f4e3639e]{margin-bottom:10px}.comment--header[data-v-f4e3639e]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-f4e3639e]{padding:10px}.comment--header .spacer[data-v-f4e3639e]{flex-grow:1}.comment--header .timestamp[data-v-f4e3639e]{color:var(--color-text-maxcontrast)}.comment--content[data-v-f4e3639e]{margin-left:var(--default-clickable-area);word-break:break-word}.comment-form__contenteditable[data-v-f4e3639e]{word-break:break-word;border-radius:var(--border-radius-large);padding:var(--default-grid-baseline);max-height:200px;overflow:auto}.atwho-wrap[data-v-f4e3639e]{width:100%}.atwho-wrap>div[contenteditable][data-v-f4e3639e]{width:100%}.atwho-wrap>div[contenteditable][data-v-f4e3639e]>span>div{vertical-align:middle}.comment-form[data-v-f4e3639e] .atwho-li{height:32px}.atwho-li--avatar[data-v-f4e3639e]{margin-right:10px}","",{version:3,sources:["webpack://./src/css/comments.scss","webpack://./src/components/card/CommentForm.vue"],names:[],mappings:"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,iBAAA,CACA,mCAAA,CACA,kCAAA,CAEA,gEACC,UAAA,CAKH,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA,CCtDD,gDACC,qBAAA,CACA,wCAAA,CACA,oCAAA,CACA,gBAAA,CACA,aAAA,CAGD,6BACC,UAAA,CACA,kDACC,UAAA,CAEA,2DACC,qBAAA,CAKH,yCACC,WAAA,CAGD,mCACC,iBAAA",sourceRoot:""}]);const n=d},54349:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-eee7a722]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-eee7a722]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-eee7a722] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-eee7a722]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;position:absolute;bottom:var(--default-grid-baseline);right:var(--default-grid-baseline)}.comment-form form input[type=submit][data-v-eee7a722]:disabled{opacity:.7}.comment[data-v-eee7a722]{margin-bottom:10px}.comment--header[data-v-eee7a722]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-eee7a722]{padding:10px}.comment--header .spacer[data-v-eee7a722]{flex-grow:1}.comment--header .timestamp[data-v-eee7a722]{color:var(--color-text-maxcontrast)}.comment--content[data-v-eee7a722]{margin-left:var(--default-clickable-area);word-break:break-word}.reply[data-v-eee7a722]{margin:0 0 0 var(--default-clickable-area)}.reply.reply--preview[data-v-eee7a722]{margin:4px 0;padding:8px;background-color:var(--color-background-hover);border-radius:var(--border-radius-large)}.reply.reply--preview .reply--wrapper[data-v-eee7a722]{margin:8px}.reply.reply--preview .reply--cancel[data-v-eee7a722]{margin-right:-12px;margin-top:-12px}.reply .reply--wrapper[data-v-eee7a722]{border-left:4px solid var(--color-border-dark);padding-left:8px}.reply[data-v-eee7a722] .rich-text--wrapper{margin-top:-3px;color:var(--color-text-lighter)}.reply .reply--header[data-v-eee7a722]{display:flex}.reply .reply--hint[data-v-eee7a722]{color:var(--color-text-lighter);flex-grow:1}.reply .comment--content[data-v-eee7a722]{margin:0}.comment--content[data-v-eee7a722] a{text-decoration:underline}.comment--content[data-v-eee7a722] p{margin-bottom:1em}","",{version:3,sources:["webpack://./src/css/comments.scss","webpack://./src/components/card/CommentItem.vue"],names:[],mappings:"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,iBAAA,CACA,mCAAA,CACA,kCAAA,CAEA,gEACC,UAAA,CAKH,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA,CCtDD,wBACC,0CAAA,CAEA,uCACC,YAAA,CACA,WAAA,CACA,8CAAA,CACA,wCAAA,CAEA,uDACC,UAAA,CAGD,sDACC,kBAAA,CACA,gBAAA,CAIF,wCACC,8CAAA,CACA,gBAAA,CAGD,4CACC,eAAA,CACA,+BAAA,CAGD,uCACC,YAAA,CAGD,qCACC,+BAAA,CACA,WAAA,CAGD,0CACC,QAAA,CAKD,qCACC,yBAAA,CAGD,qCACC,iBAAA",sourceRoot:""}]);const n=d},4296:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".avatars[data-v-6596f216]{position:relative;flex-grow:1}.avatars[data-v-6596f216] .popovermenu{margin-right:-4px}.avatars[data-v-6596f216] .popovermenu img{padding:0;width:32px !important;height:32px !important;margin:6px;border-radius:50%}.avatar-list[data-v-6596f216]{float:right;display:inline-flex;flex-direction:row-reverse;padding:0;padding-right:12px;margin:0;border:0;background:rgba(0,0,0,0)}.avatar-list>div[data-v-6596f216]{height:32px}.avatar-list .avatardiv[data-v-6596f216],.avatar-list[data-v-6596f216] .avatardiv{width:32px;height:32px;box-sizing:content-box !important;margin-right:-12px;transition:margin-right .2s ease-in-out;border:2px solid var(--color-main-background)}.avatar-list .more-avatars[data-v-6596f216]{width:32px;height:32px;background-color:var(--color-background-dark) !important;cursor:pointer;color:var(--color-text-maxcontrast)}.avatar-list-entry[data-v-6596f216]{display:flex;padding:6px 12px}.avatar-list-entry__label[data-v-6596f216]{padding:4px 12px}.popovermenu[data-v-6596f216]{display:block;margin:40px -6px}.avatar-print-list[data-v-6596f216]{display:none}@media print{.avatar-list[data-v-6596f216]{display:none}.avatar-print-list-item[data-v-6596f216]{align-items:center;display:flex;gap:10px;margin-bottom:10px}.avatar-print-list[data-v-6596f216]{display:block;padding-top:5px}}","",{version:3,sources:["webpack://./src/components/cards/AvatarList.vue"],names:[],mappings:"AACA,0BACC,iBAAA,CACA,WAAA,CACA,uCACC,iBAAA,CACA,2CACC,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,UAAA,CACA,iBAAA,CAOH,8BACC,WAAA,CACA,mBAAA,CACA,0BAAA,CACA,SAAA,CACA,kBAPe,CAQf,QAAA,CACA,QAAA,CACA,wBAAA,CAEA,kCACC,WAAA,CAGD,kFAEC,UAAA,CACA,WAAA,CACA,iCAAA,CACA,kBAAA,CACA,uCAAA,CACA,6CAAA,CAGD,4CACC,UAAA,CACA,WAAA,CACA,wDAAA,CACA,cAAA,CACA,mCAAA,CAKF,oCACC,YAAA,CACA,gBAAA,CAEA,2CACC,gBAAA,CAIF,8BACC,aAAA,CACA,gBAAA,CAGD,oCACC,YAAA,CAGD,aACC,8BACC,YAAA,CAGD,yCACC,kBAAA,CACA,YAAA,CACA,QAAA,CACA,kBAAA,CAGD,oCACC,aAAA,CACA,eAAA,CAAA",sourceRoot:""}]);const n=d},22931:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".badges[data-v-60d5294a]{display:flex;width:100%;flex-grow:1;flex-direction:row;gap:3px}.badges .icon-badge[data-v-60d5294a]{color:var(--color-text-maxcontrast);display:flex;margin-right:2px}.badges .icon-badge span[data-v-60d5294a],.badges .icon-badge[data-v-60d5294a] span{padding:2px}.inline-badges[data-v-60d5294a]{display:flex;flex-direction:row;flex-wrap:wrap;gap:3px}.badges .icon.due[data-v-60d5294a]{background-position:4px center;border-radius:var(--border-radius);padding:4px;font-size:13px;display:flex;align-items:center;opacity:.5;flex-shrink:1}.badges .icon.due .icon[data-v-60d5294a]{background-size:contain}.badges .icon.due.overdue[data-v-60d5294a]{background-color:var(--color-error);color:var(--color-primary-element-text);opacity:.7}.badges .icon.due.now[data-v-60d5294a]{background-color:var(--color-warning);opacity:.7}.badges .icon.due.next[data-v-60d5294a]{background-color:var(--color-background-dark);opacity:.7}.badges .icon.due span[data-v-60d5294a]{margin-left:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.badge-left[data-v-60d5294a],.badge-right[data-v-60d5294a]{display:flex}.badge-left[data-v-60d5294a]{flex-basis:auto;flex-grow:1;flex-shrink:1;flex-wrap:wrap;align-content:flex-end;align-items:center;align-self:center;gap:3px}.badge-right[data-v-60d5294a]{align-items:center;align-self:flex-end;display:flex;justify-items:center;max-width:165px;flex-grow:0;flex-shrink:0}.fade-enter-active[data-v-60d5294a],.fade-leave-active[data-v-60d5294a]{transition:opacity .125s}.fade-enter[data-v-60d5294a],.fade-leave-to[data-v-60d5294a]{opacity:0}.avatars[data-v-60d5294a] button{margin:0}@media print{.badges[data-v-60d5294a]{align-items:flex-start;max-height:none !important}}","",{version:3,sources:["webpack://./src/components/cards/CardBadges.vue"],names:[],mappings:"AACA,yBACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,OAAA,CAEA,qCACC,mCAAA,CACA,YAAA,CACA,gBAAA,CAEA,oFAEC,WAAA,CAKH,gCACC,YAAA,CACA,kBAAA,CACA,cAAA,CACA,OAAA,CAGD,mCACC,8BAAA,CACA,kCAAA,CACA,WAAA,CACA,cAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CACA,aAAA,CAEA,yCACC,uBAAA,CAGD,2CACC,mCAAA,CACA,uCAAA,CACA,UAAA,CAED,uCACC,qCAAA,CACA,UAAA,CAED,wCACC,6CAAA,CACA,UAAA,CAGD,wCACC,gBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAIF,2DACC,YAAA,CAGD,6BACC,eAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,sBAAA,CACA,kBAAA,CACA,iBAAA,CACA,OAAA,CAGD,8BACC,kBAAA,CACA,mBAAA,CACA,YAAA,CACA,oBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CAGD,wEACC,wBAAA,CAGD,6DACC,SAAA,CAGD,iCACC,QAAA,CAGD,aACC,yBACC,sBAAA,CACA,0BAAA,CAAA",sourceRoot:""}]);const n=d},93260:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card-cover[data-v-888cbd62]{height:90px;display:flex;margin-top:-4px;margin-left:-4px;margin-right:-4px}.card-cover .image-wrapper[data-v-888cbd62]{flex:1;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.card-cover .image-wrapper.rounded-left[data-v-888cbd62]{border-top-left-radius:calc(var(--border-radius-large) - 1px)}.card-cover .image-wrapper.rounded-right[data-v-888cbd62]{border-top-right-radius:calc(var(--border-radius-large) - 1px)}","",{version:3,sources:["webpack://./src/css/variables.scss","webpack://./src/components/cards/CardCover.vue"],names:[],mappings:"AAAA;;;EAAA,CCGA,6BACC,WAAA,CACA,YAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CAEA,4CACC,MAAA,CACA,iBAAA,CACA,qBAAA,CACA,2BAAA,CACA,iCAAA,CACA,yDACC,6DAAA,CAED,0DACC,8DAAA",sourceRoot:""}]);const n=d},97084:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.fade-enter-active[data-v-39734269]{transition:opacity 250ms}.fade-enter[data-v-39734269],.fade-leave-to[data-v-39734269]{opacity:0}.zoom-appear-active-class[data-v-39734269],.zoom-enter-active[data-v-39734269]{animation:zoom-in-39734269 var(--animation-quick)}.zoom-leave-active[data-v-39734269]{animation:zoom-in-39734269 var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-39734269{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card[data-v-39734269]{transition:border .1s ease-in-out;border-radius:var(--border-radius-large);font-size:100%;background-color:var(--color-main-background);margin-bottom:8px;padding:var(--default-grid-baseline) 4px;border:2px solid var(--color-border-dark);width:100%;display:flex;flex-direction:column;/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */}.card[data-v-39734269] *{cursor:pointer}.card.current-card[data-v-39734269]{border:2px solid var(--color-primary-element)}.card[data-v-39734269]:focus,.card[data-v-39734269]:focus-visible,.card[data-v-39734269]:focus-within{outline:none;border:2px solid var(--color-border-maxcontrast)}.card:focus.current-card[data-v-39734269],.card:focus-visible.current-card[data-v-39734269],.card:focus-within.current-card[data-v-39734269]{border:2px solid var(--color-primary-element)}.card .card-upper[data-v-39734269]{display:flex}.card .card-upper h4[data-v-39734269]{font-weight:normal;margin:0;padding:var(--default-grid-baseline);flex-grow:1;font-size:100%;overflow:hidden;word-wrap:break-word;padding-left:4px;align-self:center}.card .card-upper h4[data-v-39734269] a{text-decoration:underline}.card .card-upper h4.editable span[data-v-39734269]{cursor:text;padding-right:8px;padding-top:3px;padding-bottom:3px}.card .card-upper h4.editable span[data-v-39734269]:focus,.card .card-upper h4.editable span[data-v-39734269]:focus-visible{outline:none}.card .card-upper h4.editable[data-v-39734269]:focus-within{outline:2px solid var(--color-border-dark);border-radius:3px}.card .card-upper .card-menu[data-v-39734269]{height:var(--default-clickable-area);align-self:end}.card .labels[data-v-39734269]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.card .labels li[data-v-39734269]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.card .labels li[data-v-39734269]:hover{overflow:unset}.card .labels li span[data-v-39734269]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card .card-controls[data-v-39734269]{display:flex}.card.card__editable .card-controls[data-v-39734269]{margin-right:0}.card.card__archived[data-v-39734269]{background-color:var(--color-background-dark)}@keyframes highlight-39734269{0%{border-color:var(--color-border-dark)}20%{border-color:var(--color-primary-element)}70%{border-color:var(--color-primary-element)}100%{border-color:var(--color-border-dark)}}.card.card__highlight[data-v-39734269]{animation:highlight-39734269 2s}.card .card-labels[data-v-39734269]{display:flex;align-items:end;padding-left:var(--default-grid-baseline);padding-top:var(--default-grid-baseline)}.card .card-labels .labels[data-v-39734269]{flex-wrap:wrap;align-self:flex-start}.right[data-v-39734269]{display:flex;align-items:flex-start}.card-related[data-v-39734269]{display:flex;padding:12px;padding-bottom:0px;color:var(--color-text-maxcontrast)}.card-related .board-bullet[data-v-39734269]{display:inline-block;width:12px;height:12px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin-top:4px;margin-right:4px}.compact[data-v-39734269]{min-height:var(--default-clickable-area)}.compact .duedate[data-v-39734269]{margin-right:0;display:flex;height:32px;width:32px}.compact.has-labels[data-v-39734269]{padding-bottom:4px}.compact .labels[data-v-39734269]{height:6px;margin-top:-7px;margin-bottom:3px}.compact .labels li[data-v-39734269]{width:30px;height:6px;font-size:0;color:rgba(0,0,0,0)}.compact .card-menu[data-v-39734269]{align-self:start !important}@media(prefers-color-scheme: dark){.card[data-v-39734269]{border:2px solid var(--color-border-dark);box-shadow:none}}@media print{.card-menu[data-v-39734269]{display:none}}","",{version:3,sources:["webpack://./src/css/animations.scss","webpack://./src/css/variables.scss","webpack://./src/components/cards/CardItem.vue","webpack://./src/css/labels.scss"],names:[],mappings:"AAAA;;;EAAA,CAIA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CC5BF;;;EAAA,CCSA,uBACC,iCAAA,CACA,wCAAA,CACA,cAAA,CACA,6CAAA,CACA,iBDVe,CCWf,wCAAA,CACA,yCAAA,CACA,UAAA,CACA,YAAA,CACA,qBAAA,CCnBD;;;EAAA,CAAA,CDqBC,yBACC,cAAA,CAGD,oCACC,6CAAA,CAGD,sGACC,YAAA,CACA,gDAAA,CACA,6IACC,6CAAA,CAIF,mCACC,YAAA,CACA,sCACC,kBAAA,CACA,QAAA,CACA,oCAAA,CACA,WAAA,CACA,cAAA,CACA,eAAA,CACA,oBAAA,CACA,gBAAA,CACA,iBAAA,CAEA,wCACC,yBAAA,CAIA,oDACC,WAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEA,4HACC,YAAA,CAIF,4DACC,0CAAA,CACA,iBAAA,CAIH,8CACC,oCAAA,CACA,cAAA,CCnEH,+BACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,kCACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,wCACC,cAAA,CAGD,uCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CD8CF,sCACC,YAAA,CAED,qDACC,cAAA,CAED,sCACC,6CAAA,CAED,8BACC,GACC,qCAAA,CAED,IACC,yCAAA,CAED,IACC,yCAAA,CAED,KACC,qCAAA,CAAA,CAGF,uCACC,+BAAA,CAED,oCACC,YAAA,CACA,eAAA,CACA,yCAAA,CACA,wCAAA,CAEA,4CACC,cAAA,CACA,qBAAA,CAKH,wBACC,YAAA,CACA,sBAAA,CAGD,+BACC,YAAA,CACA,YAAA,CACA,kBAAA,CACA,mCAAA,CAEA,6CACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,cAAA,CACA,gBAAA,CAIF,0BACC,wCAAA,CAEA,mCACC,cAAA,CACA,YAAA,CACA,WAAA,CACA,UAAA,CAED,qCACC,kBDpJc,CCsJf,kCACC,UAAA,CACA,eAAA,CACA,iBAAA,CAED,qCACC,UAAA,CACA,UAAA,CACA,WAAA,CACA,mBAAA,CAED,qCACC,2BAAA,CAIF,mCACC,uBAvKA,yCAAA,CACA,eAAA,CAAA,CA2KD,aACC,4BACC,YAAA,CAAA",sourceRoot:""}]);const n=d},69081:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".cardid[data-v-4f03dbb8]{font-size:.9em}","",{version:3,sources:["webpack://./src/components/cards/badges/CardId.vue"],names:[],mappings:"AACA,yBACC,cAAA",sourceRoot:""}]);const n=d},80483:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".due[data-v-335a1ab6]{background-position:4px center;border-radius:var(--border-radius-pill);padding:1px 8px;font-size:90%;display:flex;align-items:center;flex-shrink:1;z-index:2}[data-due-state=Overdue] .due[data-v-335a1ab6]{color:var(--color-error-text);background-color:rgba(var(--color-error-rgb), 0.1)}[data-due-state=Now] .due[data-v-335a1ab6]{color:var(--color-warning-text);background-color:rgba(var(--color-warning-rgb), 0.1)}[data-due-state=Done] .due[data-v-335a1ab6]{color:var(--color-success-text);background-color:rgba(var(--color-success-rgb), 0.1)}.due .due--label[data-v-335a1ab6]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:4px;font-size:13px}@media print{.icon.due[data-v-335a1ab6]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-335a1ab6]{display:none}.icon.due[data-v-335a1ab6]::before{content:attr(title)}}","",{version:3,sources:["webpack://./src/components/cards/badges/DueDate.vue"],names:[],mappings:"AACA,sBACC,8BAAA,CACA,uCAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,aAAA,CACA,SAAA,CAEA,+CACC,6BAAA,CACA,kDAAA,CAED,2CACC,+BAAA,CACA,oDAAA,CAED,4CACC,+BAAA,CACA,oDAAA,CAGD,kCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA",sourceRoot:""}]);const n=d},77337:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.global-search[data-v-7711a4ae]{width:100%;padding:28px;padding-bottom:0;overflow:hidden;min-height:35vh;max-height:50vh;flex-shrink:1;flex-grow:1;border-top:1px solid var(--color-border);z-index:1010;position:relative}.global-search .action-item.icon-close[data-v-7711a4ae]{position:absolute;top:10px;right:10px}.global-search .search-wrapper[data-v-7711a4ae]{overflow:scroll;height:100%;position:relative;padding:10px}.global-search h2>div[data-v-7711a4ae]{display:inline-block}.global-search h2>div.icon-loading-small[data-v-7711a4ae]{margin-right:20px}.global-search h2[data-v-7711a4ae] span{background-color:var(--color-background-dark);padding:3px;border-radius:var(--border-radius)}.global-search .search-results[data-v-7711a4ae]{display:flex;flex-wrap:wrap}.global-search .search-results>div[data-v-7711a4ae]{flex-grow:0}.global-search[data-v-7711a4ae] .card{width:280px;margin-right:12px}","",{version:3,sources:["webpack://./src/css/variables.scss","webpack://./src/components/search/GlobalSearchResults.vue"],names:[],mappings:"AAAA;;;EAAA,CCGA,gCACC,UAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,WAAA,CACA,wCAAA,CACA,YAAA,CACA,iBAAA,CAEA,wDACC,iBAAA,CACA,QAAA,CACA,UAAA,CAED,gDACC,eAAA,CACA,WAAA,CACA,iBAAA,CACA,YAAA,CAGD,uCACC,oBAAA,CAEA,0DACC,iBAAA,CAGF,wCACC,6CAAA,CACA,WAAA,CACA,kCAAA,CAGD,gDACC,YAAA,CACA,cAAA,CAEA,oDACC,WAAA,CAGF,sCACC,WD3Ca,CC4Cb,iBD7Ce",sourceRoot:""}]);const n=d},79724:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card--placeholder[data-v-2ec8f4d4]{width:280px;margin-right:12px;padding:4px;transition:box-shadow .1s ease-in-out;box-shadow:0 0 2px 0 var(--color-box-shadow);border-radius:var(--border-radius-large);font-size:100%;margin-bottom:8px;height:100px}.card-placeholder__gradient[data-v-2ec8f4d4]{position:fixed;height:0;width:0;z-index:-1}.card-placeholder__placeholder[data-v-2ec8f4d4]{width:100%}.card-placeholder__placeholder-line-header[data-v-2ec8f4d4],.card-placeholder__placeholder-line-one[data-v-2ec8f4d4],.card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{width:100%;height:1em;x:0}.card-placeholder__placeholder-line-header[data-v-2ec8f4d4]{visibility:hidden}.card-placeholder__placeholder-line-one[data-v-2ec8f4d4]{y:5px}.card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{y:25px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-header[data-v-2ec8f4d4]{visibility:visible;y:5px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-one[data-v-2ec8f4d4]{y:40px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{y:60px}","",{version:3,sources:["webpack://./src/css/variables.scss","webpack://./src/components/search/Placeholder.vue"],names:[],mappings:"AAAA;;;EAAA,CCIA,oCACC,WDEc,CCDd,iBAAA,CACA,WDFe,CCGf,qCAAA,CACA,4CAAA,CACA,wCAAA,CACA,cAAA,CACA,iBDRe,CCSf,YAAA,CAGD,6CACC,cAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CAGD,gDACC,UAAA,CACA,8KAGC,UAAA,CACA,UAAA,CACA,GAAA,CAED,4DACC,iBAAA,CAED,yDACC,KAAA,CAGD,yDACC,MAAA,CAIA,sGACC,kBAAA,CACA,KAAA,CAED,mGACC,MAAA,CAGD,mGACC,MAAA",sourceRoot:""}]);const n=d},47301:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,".deck-board-reference[data-v-5ea0696f]{width:100%;white-space:normal;padding:12px}.editor__content .deck-board-reference[data-v-5ea0696f]{width:calc(100% - 24px)}.deck-board-reference .link[data-v-5ea0696f]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-board-reference .line[data-v-5ea0696f]{display:flex;align-items:center}.deck-board-reference .line .icon[data-v-5ea0696f]{margin-right:4px}.deck-board-reference .line .title-icon[data-v-5ea0696f]{margin-right:8px}.deck-board-reference-interactive[data-v-5ea0696f]{width:100%;min-height:min(50vh,100vh - 100px);max-height:calc(100vh - 120px)}.deck-board-reference-interactive[data-v-5ea0696f] .controls{padding-left:12px}.deck-board-reference-interactive[data-v-5ea0696f] .board{padding-left:0}.deck-board-reference-interactive[data-v-5ea0696f] *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}","",{version:3,sources:["webpack://./src/views/BoardReferenceWidget.vue"],names:[],mappings:"AACA,uCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,wDACC,uBAAA,CAKD,6CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,6CACC,YAAA,CACA,kBAAA,CACA,mDACC,gBAAA,CAED,yDACC,gBAAA,CAKH,mDACC,UAAA,CACA,kCAAA,CACA,8BAAA,CACA,6DACC,iBAAA,CAED,0DACC,cAAA,CAED,qDACC,6BAAA,CACA,0BAAA,CACA,qBAAA",sourceRoot:""}]);const n=d},94420:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"\n.visualdiff ins {\n\tcolor: green;\n}\n.visualdiff del {\n\tcolor: darkred;\n}\n","",{version:3,sources:["webpack://./src/components/ActivityEntry.vue"],names:[],mappings:";AAiJA;CACA,YAAA;AACA;AAEA;CACA,cAAA;AACA",sourcesContent:["\x3c!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n--\x3e\n\n<template>\n\t<div v-if=\"activity\" class=\"activity\">\n\t\t<div class=\"activity--header\">\n\t\t\t<img :src=\"activity.icon\" class=\"activity--icon\">\n\t\t\t<NcRichText class=\"activity--subject\" :text=\"message.subject\" :arguments=\"message.parameters\" />\n\t\t\t<div class=\"activity--timestamp\" :name=\"formatReadableDate(activity.datetime)\">\n\t\t\t\t{{ relativeDate(activity.datetime) }}\n\t\t\t</div>\n\t\t</div>\n\t\t\x3c!-- FIXME ins/del tags do no longer work with activity so we should get rid of that --\x3e\n\t\t<p v-if=\"activity.message\" class=\"activity--message\" v-html=\"sanitizedMessage\" />\n\t</div>\n</template>\n\n<script>\nimport { NcRichText, NcUserBubble } from '@nextcloud/vue'\nimport moment from '@nextcloud/moment'\nimport DOMPurify from 'dompurify'\nimport relativeDate from '../mixins/relativeDate.js'\nimport formatReadableDate from '../mixins/readableDate.js'\n\nconst InternalLink = {\n\tname: 'InternalLink',\n\tfunctional: true,\n\tprops: {\n\t\thref: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\trender(createElement, context) {\n\t\treturn createElement('a', { attrs: { href: context.props.href }, style: { 'font-weight': 600 } }, context.props.name)\n\t},\n}\nexport default {\n\tname: 'ActivityEntry',\n\tcomponents: {\n\t\tNcRichText,\n\t},\n\tmixins: [relativeDate, formatReadableDate],\n\tprops: {\n\t\tactivity: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\tmessage() {\n\t\t\tconst subject = this.activity.subject_rich[0]\n\t\t\tconst parameters = JSON.parse(JSON.stringify(this.activity.subject_rich[1]))\n\t\t\tif (parameters.after && typeof parameters.after.id === 'string' && parameters.after.id.startsWith('dt:')) {\n\t\t\t\tconst dateTime = parameters.after.id.slice(3)\n\t\t\t\tparameters.after.name = moment(dateTime).format('L LTS')\n\t\t\t}\n\n\t\t\tObject.keys(parameters).forEach(function(key, index) {\n\t\t\t\tconst { type } = parameters[key]\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'highlight':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: InternalLink,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\thref: parameters[key].link,\n\t\t\t\t\t\t\tname: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'user':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: NcUserBubble,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tuser: parameters[key].id,\n\t\t\t\t\t\t\tdisplayName: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tparameters[key] = `{${key}}`\n\t\t\t\t}\n\n\t\t\t})\n\n\t\t\treturn {\n\t\t\t\tsubject, parameters,\n\t\t\t}\n\t\t},\n\n\t\tsanitizedMessage() {\n\t\t\treturn DOMPurify.sanitize(this.activity.message, { ALLOWED_TAGS: ['ins', 'del'], ALLOWED_ATTR: ['class'] })\n\t\t},\n\n\t},\n}\n<\/script>\n\n<style scoped lang=\"scss\">\n\t.activity {\n\n\t\t.activity--header {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 10px;\n\t\t}\n\n\t\t.activity--icon {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tflex-shrink: 0;\n\t\t\tflex-grow: 0;\n\t\t}\n\t\t.activity--subject {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t\t.activity--message {\n\t\t\tmargin-left: var(--default-clickable-area);\n\t\t\tcolor: var(--color-text-light);\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\t.activity--timestamp {\n\t\t\tflex-grow: 1;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\ttext-align: right;\n\t\t\tfont-size: 0.8em;\n\t\t\tpadding: 1px;\n\t\t}\n\t}\n</style>\n<style>\n\t.visualdiff ins {\n\t\tcolor: green;\n\t}\n\n\t.visualdiff del {\n\t\tcolor: darkred;\n\t}\n</style>\n"],sourceRoot:""}]);const n=d},55767:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var r=a(71354),s=a.n(r),i=a(76314),d=a.n(i)()(s());d.push([t.id,"\n.activity-list[data-v-54d90076] {\n\tmargin-bottom: 100px;\n}\n","",{version:3,sources:["webpack://./src/components/ActivityList.vue"],names:[],mappings:";AA2HA;CACA,oBAAA;AACA",sourcesContent:["\x3c!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n--\x3e\n\n<template>\n\t<div class=\"activity-list\">\n\t\t<div v-if=\"isLoading\" class=\"icon icon-loading\" />\n\t\t<ActivityEntry v-for=\"activity in activities\"\n\t\t\t:key=\"activity.activity_id\"\n\t\t\t:activity=\"activity\" />\n\t\t<InfiniteLoading :identifier=\"objectId\" @infinite=\"infiniteHandler\" @change=\"changeObject\">\n\t\t\t<div slot=\"spinner\" class=\"icon-loading\" />\n\t\t\t<div slot=\"no-more\" />\n\t\t\t<div slot=\"no-results\" />\n\t\t</InfiniteLoading>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport ActivityEntry from './ActivityEntry.vue'\nimport InfiniteLoading from 'vue-infinite-loading'\n\nconst ACTIVITY_FETCH_LIMIT = 50\n\nexport default {\n\tname: 'ActivityList',\n\tcomponents: {\n\t\tActivityEntry,\n\t\tInfiniteLoading,\n\t},\n\tprops: {\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefault: 'deck',\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectType: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactivities: [],\n\t\t\tisLoading: false,\n\t\t\tsince: 0,\n\t\t\tendReached: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tasync loadActivity() {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tparams.append('format', 'json')\n\t\t\tparams.append('type', this.type)\n\t\t\tparams.append('since', this.since)\n\t\t\tparams.append('object_type', this.objectType)\n\t\t\tparams.append('object_id', '' + this.objectId)\n\t\t\tparams.append('limit', ACTIVITY_FETCH_LIMIT)\n\n\t\t\tconst response = await axios.get(\n\t\t\t\tgenerateOcsUrl(`apps/activity/api/v2/activity/${this.filter}`) + '?' + params,\n\t\t\t\t{\n\t\t\t\t\tvalidateStatus: (status) => {\n\t\t\t\t\t\treturn (status >= 200 && status < 300) || status === 304\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t)\n\n\t\t\tif (response.status === 304) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tlet activities = response.data.ocs.data\n\t\t\tif (this.filter === 'deck') {\n\t\t\t\t// We need to manually filter activities here, since currently we use two different types and there is no way\n\t\t\t\t// to tell the backend to fetch all activites related to cards of a given board\n\t\t\t\tactivities = activities.filter((activity) => {\n\t\t\t\t\treturn (activity.object_type === 'deck_board' && activity.object_id === this.objectId)\n\t\t\t\t\t\t\t|| (activity.object_type === 'deck_card' && activity.subject_rich[1].board.id === this.objectId)\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.activities.push(...activities)\n\t\t\tif (activities.length === 0) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tthis.since = (activities[activities.length - 1].activity_id)\n\t\t\treturn activities\n\t\t},\n\t\tasync infiniteHandler($state) {\n\t\t\tawait this.loadActivity()\n\t\t\tif (!this.endReached) {\n\t\t\t\t$state.loaded()\n\t\t\t} else {\n\t\t\t\t$state.complete()\n\t\t\t}\n\t\t},\n\t\tchangeObject() {\n\t\t\tthis.since = 0\n\t\t\tthis.activities = []\n\t\t\tthis.endReached = false\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\n\t.activity-list {\n\t\tmargin-bottom: 100px;\n\t}\n</style>\n"],sourceRoot:""}]);const n=d},35358:(t,e,a)=>{var r={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function s(t){var e=i(t);return a(e)}function i(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=i,t.exports=s,s.id=35358},86397:(t,e,a)=>{"use strict";var r=a(85072),s=a.n(r),i=a(97825),d=a.n(i),n=a(77659),o=a.n(n),c=a(55056),A=a.n(c),l=a(10540),C=a.n(l),u=a(41113),p=a.n(u),m=a(4296),h={};h.styleTagTransform=p(),h.setAttributes=A(),h.insert=o().bind(null,"head"),h.domAPI=d(),h.insertStyleElement=C();s()(m.A,h),m.A&&m.A.locals&&m.A.locals},96095:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});var r=a(92070),s=a(25288);a(16866);const i=(0,a(14486).A)(s.A,r.X,r.Y,!1,null,"6596f216",null).exports},78291:(e,a,r)=>{"use strict";r.d(a,{default:()=>rr});var s=r(45765),i=r(95353),d=r(61338),n=r(76333),o=r(41521),c=r(49428),A=r(10309),l=r(71944),C=r(90799),u=r(95546),p=r(6786),m=r(31467);const h={name:"SessionList",components:{NcAvatar:n.Bx},props:{sessions:{type:Array,default:()=>[]},size:{type:Number,default:()=>32}},computed:{sessionsVisible(){return this.sessions?this.sessions.slice(0,5):[]},sessionAvatarStyle(){return{"--size":this.size+"px","--font-size":this.size/2+"px"}}}};var v=r(85072),f=r.n(v),g=r(97825),b=r.n(g),y=r(77659),k=r.n(y),x=r(55056),w=r.n(x),_=r(10540),B=r.n(_),I=r(41113),D=r.n(I),S=r(50985),T={};T.styleTagTransform=D(),T.setAttributes=w(),T.insert=k().bind(null,"head"),T.domAPI=b(),T.insertStyleElement=B();f()(S.A,T);S.A&&S.A.locals&&S.A.locals;var E=r(14486);const j=(0,E.A)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"avatar-list",attrs:{title:t.t("deck","Currently present people")}},t._l(t.sessionsVisible,(function(a){return e("div",{key:a.uid,staticClass:"avatar-wrapper",style:t.sessionAvatarStyle},[e("NcAvatar",{attrs:{user:a.uid,"display-name":a.displayname,"disable-menu":!0,"show-user-status":!1,"disable-tooltip":!0,size:t.size}})],1)})),0)}),[],!1,null,"3a1cc12a",null).exports;var L=r(62767),N=r(70715),$=r(63814);const F=new class{url(t){return(0,$.KT)(`apps/deck/api/v1.0${t}`)}async createSession(t){return(await N.Ay.put(this.url("/session/create"),{boardId:t})).data.ocs.data}async syncSession(t,e){return await N.Ay.post(this.url("/session/sync"),{boardId:t,token:e})}async closeSession(t,e){return await N.Ay.post(this.url("/session/close"),{boardId:t,token:e})}async closeSessionViaBeacon(t,e){const a={boardId:t,token:e},r=new Blob([JSON.stringify(a)],{type:"application/json"});navigator.sendBeacon(this.url("/session/close"),r)}};r(48318);var P=r(32981),M=r(85471),G=r(13648);const U={state:{actions:{card:[]}},getters:{cardActions:t=>t.actions.card},mutations:{ADD_CARD_ACTION(t,e){t.actions.card.push(e)}},actions:{async addCardAction(t,e){let{commit:a}=t;a("ADD_CARD_ACTION",e)}}};class z{url(t){return t=`/apps/deck${t}`,(0,$.Jv)(t)}loadStacks(t){return N.Ay.get(this.url(`/stacks/${t}`)).then((t=>Promise.resolve(t.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}deletedStacks(t){return N.Ay.get(this.url(`/${t}/stacks/deleted`)).then((t=>Promise.resolve(t.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}loadArchivedStacks(t){return N.Ay.get(this.url(`/stacks/${t}/archived`)).then((t=>Promise.resolve(t.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}createStack(t){return N.Ay.post(this.url("/stacks"),t).then((t=>Promise.resolve(t.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}reorderStack(t,e){return N.Ay.put(this.url(`/stacks/${t}/reorder`),{order:e}).then((t=>Promise.resolve(t.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}deleteStack(t){return N.Ay.delete(this.url(`/stacks/${t}`)).then((t=>Promise.resolve(t.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}updateStack(t){return N.Ay.put(this.url(`/stacks/${t.id}`),t).then((t=>Promise.resolve(t.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}}const O=function(t,e,a){if(null===e&&null===a)return t;const r=[...t];let s=t[e];return null!==e&&(s=r.splice(e,1)[0]),null!==a&&r.splice(a,0,s),r},W=new z,R={state:{stacks:[]},getters:{stacksByBoard:t=>e=>t.stacks.filter((t=>t.boardId===e)).sort(((t,e)=>t.order-e.order)),stackById:t=>e=>t.stacks.find((t=>t.id===e))},mutations:{addStack(t,e){const a=t.stacks.findIndex((t=>t.id===e.id));if(-1!==a){const r=t.stacks.find((t=>t.id===e.id));M.default.set(t.stacks,a,Object.assign({},r,e))}else t.stacks.push(e)},orderStack(t,e){let{stack:a,removedIndex:r,addedIndex:s}=e;const i=t.stacks.filter((t=>t.boardId===a.boardId)).sort(((t,e)=>t.order-e.order)),d=O(i,r,s);for(let t=0;t<d.length;t++)d[t].order=parseInt(t)},deleteStack(t,e){const a=t.stacks.findIndex((t=>t.id===e.id));-1!==a&&t.stacks.splice(a,1)},updateStack(t,e){const a=t.stacks.findIndex((t=>t.id===e.id));-1!==a&&(t.stacks[a].title=e.title)}},actions:{orderStack(t,e){let{commit:a}=t,{stack:r,removedIndex:s,addedIndex:i}=e;a("orderStack",{stack:r,removedIndex:s,addedIndex:i}),W.reorderStack(r.id,i).catch((t=>{OC.Notification.showTemporary("Failed to change order"),console.error(t.response.data.message),a("orderStack",{stack:r,addedIndex:i,removedIndex:s})}))},async loadStacks(t,e){let{commit:a}=t,r="loadStacks";!0===this.state.showArchived&&(r="loadArchivedStacks");const s=await W[r](e),i=[];for(const t in s){const e=s[t];for(const t in e.cards)i.push(e.cards[t]);delete e.cards,a("addStack",e)}a("setCards",i)},async loadArchivedStacks(t,e){let{commit:a,getters:r}=t;const s=await W.loadArchivedStacks(e),i=[];for(const t in s){const e=s[t];for(const t in e.cards)i.push(e.cards[t]);delete e.cards,r.stackById(e.id)||a("addStack",e)}a("setCards",i)},createStack(t,e){let{commit:a}=t;e.boardId=this.state.currentBoard.id,W.createStack(e).then((t=>{a("addStack",t)}))},deleteStack(t,e){let{commit:a}=t;W.deleteStack(e.id).then((t=>{a("deleteStack",t),a("moveStackToTrash",t)}))},updateStack(t,e){let{commit:a}=t;W.updateStack(e).then((t=>{a("updateStack",t)}))}}};var H=r(476),q=r(95093),Y=r.n(q);const K=new H.j,Q={state:{cards:[]},getters:{cardsByStack:(t,e,a)=>r=>t.cards.filter((t=>{const{tags:e,users:r,due:s,unassigned:i,completed:d}=a.filter;if("open"===d&&null!==t.done)return!1;if("completed"===d&&null==t.done)return!1;let n=!0,o=!0;if(e.length>0&&(e.forEach((e=>{-1===t.labels.findIndex((t=>t.id===e))&&(n=!1)})),!n))return!1;if(r.length>0&&(r.forEach((e=>{t?.assignedUsers&&-1!==t.assignedUsers.findIndex((t=>t.participant.uid===e))||(o=!1)})),!o))return!1;if(i&&t.assignedUsers.length>0)return!1;if(""!==s){const e=(new Date(t.duedate)-new Date)/3600/1e3;switch(s){case"noDue":return null===t.duedate;case"overdue":return 3===t.overdue;case"dueToday":return t.overdue>=2;case"dueWeek":return e<=168&&null!==t.duedate;case"dueMonth":return e<=720&&null!==t.duedate}}return!0})).filter((t=>t.stackId===r)).filter((t=>{if(""===e.getSearchQuery)return!0;let a=!0;const r=e.getSearchQuery.match(/(?:[^\s"]+|"[^"]*")+/g),s=t=>'"'===t[0]&&'"'===t[t.length-1]?t.slice(1,-1):t;for(const i of r){let[r,d]=-1!==i.indexOf(":")?i.split(/:(.*)/):[null,i];const n=void 0===d||""===s(d);if("title"===r){if(n)continue;a=a&&t.title.toLowerCase().includes(s(d).toLowerCase())}else if("description"===r){if(n){a=a&&!!t.description;continue}a=a&&t.description.toLowerCase().includes(s(d).toLowerCase())}else if("list"===r){if(n)continue;const r=e.stackById(t.stackId);if(!r)return!1;a=a&&r.title.toLowerCase().includes(s(d).toLowerCase())}else if("tag"===r){if(n){a=a&&t.labels.length>0;continue}a=a&&-1!==t.labels.findIndex((t=>t.title.toLowerCase().includes(s(d).toLowerCase())))}else if("date"===r){const e=(new Date(t.duedate)-new Date)/3600/1e3;switch(d=s(d),d){case"overdue":a=a&&3===t.overdue;break;case"today":a=a&&e>0&&e<=24&&null!==t.duedate;break;case"week":a=a&&e>0&&e<=168&&null!==t.duedate;break;case"month":a=a&&e>0&&e<=720&&null!==t.duedate;break;case"none":a=a&&null===t.duedate}if(null===t.duedate||!a)return!1;const r=d[0]+("="===d[1]?"=":""),i=-1!==["<","<=",">",">="].indexOf(r),n=Y()(t.duedate),o=Y()(d.slice(i?r.length:0));switch(r){case"<":a=a&&n.isBefore(o);break;case"<=":a=a&&n.isSameOrBefore(o);break;case">":a=a&&n.isAfter(o);break;case">=":a=a&&n.isSameOrAfter(o);break;default:a=a&&n.isSame(o)}}else if("assigned"===r){if(n){a=a&&t.assignedUsers.length>0;continue}a=a&&-1!==t.assignedUsers.findIndex((t=>t.participant.primaryKey.toLowerCase()===s(d).toLowerCase()||t.participant.displayname.toLowerCase()===s(d).toLowerCase()))}else a=a&&(t.title.toLowerCase().includes(s(i).toLowerCase())||t.description.toLowerCase().includes(s(i).toLowerCase())||t.id===parseInt(s(i)));if(!a)return!1}return!0})).sort(((t,e)=>t.order-e.order||t.createdAt-e.createdAt)),cardById:t=>e=>t.cards.find((t=>t.id===e))},mutations:{addCard(t,e){e.labels=e.labels||[],e.assignedUsers=e.assignedUsers||[];const a=t.cards.findIndex((t=>t.id===e.id));if(-1!==a){const r=t.cards.find((t=>t.id===e.id));M.default.set(t.cards,a,Object.assign({},r,e))}else t.cards.push(e)},deleteCard(t,e){const a=t.cards.findIndex((t=>t.id===e.id));-1!==a&&t.cards.splice(a,1)},updateCard(t,e){const a=t.cards.findIndex((t=>t.id===e.id));-1!==a&&M.default.set(t.cards,a,Object.assign({},t.cards[a],e))},updateCardsReorder(t,e){for(const a of e){const e=t.cards.findIndex((t=>t.id===a.id));-1!==e&&(M.default.set(t.cards[e],"order",a.order),M.default.set(t.cards[e],"stackId",a.stackId))}},assignCardToUser(t,e){const a=t.cards.findIndex((t=>t.id===e.cardId));-1!==a&&t.cards[a].assignedUsers.push(e)},removeUserFromCard(t,e){const a=t.cards.findIndex((t=>t.id===e.cardId));if(-1!==a){const r=t.cards[a].assignedUsers.findIndex((t=>t.id===e.id));-1!==r&&t.cards[a].assignedUsers.splice(r,1)}},updateCardProperty(t,e){let{card:a,property:r}=e;const s=t.cards.findIndex((t=>t.id===a.id));-1!==s&&(M.default.set(t.cards[s],r,a[r]),M.default.set(t.cards[s],"lastModified",Date.now()/1e3))},cardSetAttachmentCount(t,e){let{cardId:a,count:r}=e;const s=t.cards.findIndex((t=>t.id===a));-1!==s&&M.default.set(t.cards[s],"attachmentCount",r)},cardIncreaseAttachmentCount(t,e){const a=t.cards.findIndex((t=>t.id===e));-1!==a&&M.default.set(t.cards[a],"attachmentCount",t.cards[a].attachmentCount+1)},cardDecreaseAttachmentCount(t,e){const a=t.cards.findIndex((t=>t.id===e));-1!==a&&M.default.set(t.cards[a],"attachmentCount",t.cards[a].attachmentCount-1)},addNewCard(t,e){t.cards.push(e)},setCards(t,e){const a=t.cards.filter((t=>-1===e.findIndex((e=>t.id===e.id))));for(const t of a)this.commit("deleteCard",t);for(const t of e)this.commit("addCard",t)}},actions:{async cloneCard(t,e){let{commit:a}=t,{cardId:r,targetStackId:s}=e;const i=await K.cloneCard(r,s);return a("addCard",i),i},async addCard(t,e){let{commit:a}=t;const r=await K.addCard(e);return a("addCard",r),r},async updateCardTitle(t,e){let{commit:a}=t;const r=await K.updateCard(e);a("updateCardProperty",{property:"title",card:r}),a("updateCardProperty",{property:"referenceData",card:r})},async moveCard(t,e){let{commit:a}=t;a("deleteCard",await K.updateCard(e))},async reorderCard(t,e){let{commit:a,getters:r}=t,s=0;const i=[];for(const t of r.cardsByStack(e.stackId))t.id===e.id&&i.push(e),s===e.order&&s++,t.id!==e.id&&i.push({...t,order:s++});i.push(e),await a("updateCardsReorder",i),K.reorderCard(e).then((t=>{a("updateCardsReorder",Object.values(t))}))},async deleteCard(t,e){let{commit:a}=t;await K.deleteCard(e.id),a("deleteCard",e),a("moveCardToTrash",e)},async archiveUnarchiveCard(t,e){let{commit:a}=t,r="archiveCard";!1===e.archived&&(r="unArchiveCard");a("updateCard",await K[r](e))},async changeCardDoneStatus(t,e){let{commit:a}=t,r="markCardAsDone";!1===e.done&&(r="markCardAsUndone");a("updateCardProperty",{property:"done",card:await K[r](e)})},async assignCardToUser(t,e){let{commit:a}=t,{card:r,assignee:s}=e;a("assignCardToUser",await K.assignUser(r.id,s.userId,s.type))},async removeUserFromCard(t,e){let{commit:a}=t,{card:r,assignee:s}=e;a("removeUserFromCard",await K.removeUser(r.id,s.userId,s.type))},async addLabel(t,e){let{commit:a}=t;await K.assignLabelToCard(e),a("updateCardProperty",{property:"labels",card:e.card})},async removeLabel(t,e){let{commit:a}=t;await K.removeLabelFromCard(e),a("updateCardProperty",{property:"labels",card:e.card})},async updateCardDesc(t,e){let{commit:a}=t;a("updateCardProperty",{property:"description",card:await K.updateCard(e)})},async updateCardDue(t,e){let{commit:a}=t;a("updateCardProperty",{property:"duedate",card:await K.updateCard(e)})},addCardData(t,e){let{commit:a}=t;const r={...e};a("addStack",r.relatedStack),a("addBoard",r.relatedBoard),delete r.relatedStack,delete r.relatedBoard,a("addCard",r)}}};const X=new class{url(t){return t=`dav/comments/deckCard/${t}`,(0,$.dC)(t)}async loadComments(t){let{cardId:e,limit:a,offset:r}=t;return(await N.Ay.get((0,$.KT)(`apps/deck/api/v1.0/cards/${e}/comments`),{params:{limit:a,offset:r},headers:{"OCS-APIRequest":"true"}})).data.ocs.data}async createComment(t){let{cardId:e,comment:a,replyTo:r}=t;return(await N.Ay.post((0,$.KT)(`apps/deck/api/v1.0/cards/${e}/comments`),{message:`${a}`,parentId:r?r.id:null})).data.ocs.data}async updateComment(t){let{cardId:e,id:a,comment:r}=t;return(await N.Ay.put((0,$.KT)(`apps/deck/api/v1.0/cards/${e}/comments/${a}`),{message:`${r}`})).data.ocs.data}async deleteComment(t){let{cardId:e,id:a}=t;return(await N.Ay.delete((0,$.KT)(`apps/deck/api/v1.0/cards/${e}/comments/${a}`))).data.ocs.data}async markCommentsAsRead(t){const e=(new Date).toUTCString();return(await(0,N.Ay)({method:"PROPPATCH",url:this.url(`${t}`),data:`<?xml version="1.0"?>\n\t\t\t\t<d:propertyupdate  xmlns:d="DAV:" xmlns:oc="http://owncloud.org/ns">\n\t\t\t\t  <d:set>\n\t\t\t\t   <d:prop>\n\t\t\t\t\t  <oc:readMarker>${e}</oc:readMarker>\n\t\t\t\t\t</d:prop>\n\t\t\t\t  </d:set>\n\t\t\t\t</d:propertyupdate>`})).data}},V={state:{comments:{},replyTo:null},getters:{getCommentsForCard:t=>e=>t.comments[e]?[...t.comments[e].comments].sort(((t,e)=>e.id-t.id)):[],hasMoreComments:t=>e=>t.comments[e]&&t.comments[e].hasMore},mutations:{endReached(t,e){let{cardId:a}=e;t.comments[a]&&(t.comments[a].hasMore=!1)},addComments(t,e){let{comments:a,cardId:r}=e;if(void 0===t.comments[r])M.default.set(t.comments,r,{hasMore:a.length>0,comments:[...a]});else{const e=a.filter((e=>-1===t.comments[r].comments.findIndex((t=>t.id===e.id))));t.comments[r].comments.push(...e)}},updateComment(t,e){let{cardId:a,comment:r}=e;const s=t.comments[a].comments.findIndex((t=>t.id===r.id));-1!==s&&Object.assign(t.comments[a].comments[s],r)},deleteComment(t,e){const a=t.comments[e.cardId].comments.findIndex((t=>t.id===e.id));-1!==a&&t.comments[e.cardId].comments.splice(a,1)},markCommentsAsRead(t,e){t.comments[e].comments.forEach((t=>{M.default.set(t,"isUnread",!1)}))},setReplyTo(t,e){M.default.set(t,"replyTo",e)}},actions:{async fetchComments(t,e){let{commit:a}=t,{cardId:r,offset:s}=e;const i=await X.loadComments({cardId:r,limit:10,offset:s||0});a("addComments",{cardId:r,comments:i}),i.length<10&&a("endReached",{cardId:r})},async fetchMore(t,e){let{commit:a,dispatch:r,getters:s}=t,{cardId:i}=e;await r("fetchComments",{cardId:i}),await r("fetchComments",{cardId:i,offset:s.getCommentsForCard(i).length})},async createComment(t,e){let{commit:a,dispatch:r,state:s}=t,{cardId:i,comment:d}=e;await X.createComment({cardId:i,comment:d,replyTo:s.replyTo}),await r("fetchComments",{cardId:i})},async deleteComment(t,e){let{commit:a}=t;await X.deleteComment(e),a("deleteComment",e)},async updateComment(t,e){let{commit:a}=t;const r=await X.updateComment(e);await a("updateComment",{cardId:e.cardId,comment:r})},async markCommentsAsRead(t,e){let{commit:a}=t;await X.markCommentsAsRead(e),await a("markCommentsAsRead",e)},setReplyTo(t,e){let{commit:a}=t;a("setReplyTo",e)}}},J=new z,Z=new H.j,tt={state:{deletedStacks:[],deletedCards:[]},mutations:{setDeletedStacks(t,e){t.deletedStacks=[],e.length>0&&(t.deletedStacks=e)},moveStackToTrash(t,e){e.deletedAt=Math.floor(Date.now()/1e3),t.deletedStacks.push(e)},removeStackFromTrash(t,e){const a=t.deletedStacks.findIndex((t=>t.id===e.id));-1!==a&&t.deletedStacks.splice(a,1)},setDeletedCards(t,e){t.deletedCards=[],t.deletedCards=e},moveCardToTrash(t,e){e.deletedAt=Math.floor(Date.now()/1e3),t.deletedCards.push(e)},removeCardFromTrash(t,e){const a=t.deletedCards.findIndex((t=>t.id===e.id));-1!==a&&t.deletedCards.splice(a,1)}},actions:{fetchDeletedItems(t,e){let{commit:a}=t;J.deletedStacks(e).then((t=>{a("setDeletedStacks",t)})),Z.deletedCards(e).then((t=>{a("setDeletedCards",t)}))},stackUndoDelete(t,e){let{commit:a}=t;J.updateStack(e).then((t=>{a("addStack",t),a("removeStackFromTrash",t)}))},cardUndoDelete(t,e){let{commit:a}=t;Z.updateCard(e).then((t=>{a("removeCardFromTrash",t),a("addCard",t)}))}}};const et=new class{url(t){return(0,$.Jv)(`/apps/deck${t}`)}async fetchAttachments(t){return(await(0,N.Ay)({method:"GET",url:this.url(`/cards/${t}/attachments`)})).data}async createAttachment(t){let{cardId:e,formData:a,onUploadProgress:r}=t;return(await(0,N.Ay)({method:"POST",url:this.url(`/cards/${e}/attachment`),data:a,onUploadProgress:r})).data}async updateAttachment(t){let{cardId:e,attachment:a,formData:r}=t;return(await(0,N.Ay)({method:"POST",url:this.url(`/cards/${e}/attachment/${a.type}:${a.id}`),data:r})).data}async deleteAttachment(t){await(0,N.Ay)({method:"DELETE",url:this.url(`/cards/${t.cardId}/attachment/${t.type}:${t.id}`)})}async restoreAttachment(t){return(await(0,N.Ay)({method:"GET",url:this.url(`/cards/${t.cardId}/attachment/${t.type}:${t.id}/restore`)})).data}async displayAttachment(t){return(await(0,N.Ay)({method:"GET",url:this.url(`/cards/${t.cardId}/attachment/${t.type}:${t.id}`)})).data}},at={state:{attachments:{}},getters:{attachmentsByCard:t=>e=>void 0===t.attachments[e]?[]:t.attachments[e]},mutations:{createAttachment(t,e){let{cardId:a,attachment:r}=e;void 0===t.attachments[a]?M.default.set(t.attachments,a,[r]):t.attachments[a].push(r)},createAttachments(t,e){let{cardId:a,attachments:r}=e;M.default.set(t.attachments,a,r)},updateAttachment(t,e){let{cardId:a,attachment:r}=e;const s=t.attachments[r.cardId].findIndex((t=>t.id===r.id&&t.type===r.type));-1!==s&&M.default.set(t.attachments[a],s,r)},deleteAttachment(t,e){const a=t.attachments[e.cardId].findIndex((t=>t.id===e.id&&t.type===e.type));-1!==a&&(t.attachments[e.cardId][a].deletedAt=Date.now()/1e3|0)},unshareAttachment(t,e){const a=t.attachments[e.cardId].findIndex((t=>t.id===e.id&&t.type===e.type));-1!==a&&(t.attachments[e.cardId][a].deletedAt=-1)},restoreAttachment(t,e){const a=t.attachments[e.cardId].findIndex((t=>t.id===e.id&&t.type===e.type));-1!==a&&(t.attachments[e.cardId][a].deletedAt=0)}},actions:{async fetchAttachments(t,e){let{commit:a}=t;const r=await et.fetchAttachments(e);a("createAttachments",{cardId:e,attachments:r}),a("cardSetAttachmentCount",{cardId:e,count:r.length})},async createAttachment(t,e){let{commit:a}=t,{cardId:r,formData:s,onUploadProgress:i}=e;a("createAttachment",{cardId:r,attachment:await et.createAttachment({cardId:r,formData:s,onUploadProgress:i})}),a("cardIncreaseAttachmentCount",r)},async updateAttachment(t,e){let{commit:a}=t,{cardId:r,attachment:s,formData:i}=e;a("updateAttachment",{cardId:r,attachment:await et.updateAttachment({cardId:r,attachment:s,formData:i})})},async deleteAttachment(t,e){let{commit:a}=t;await et.deleteAttachment(e),a("deleteAttachment",e),a("cardDecreaseAttachmentCount",e.cardId)},async unshareAttachment(t,e){let{commit:a}=t;await et.deleteAttachment(e),a("unshareAttachment",e),a("cardDecreaseAttachmentCount",e.cardId)},async restoreAttachment(t,e){let{commit:a}=t;a("restoreAttachment",await et.restoreAttachment(e)),a("cardIncreaseAttachmentCount",e.cardId)}}};M.default.use(i.default);const rt=new class{url(t){return(0,$.KT)(`apps/deck/api/v1.0/${t}`)}get(t){return N.Ay.get(this.url(`overview/${t}`),{headers:{"OCS-APIRequest":"true"}}).then((t=>Promise.resolve(t.data.ocs.data)),(t=>Promise.reject(t))).catch((t=>Promise.reject(t)))}},st={state:{assignedCards:[],loading:!1},getters:{assignedCardsDashboard:t=>t.assignedCards},mutations:{setAssignedCards(t,e){t.assignedCards=e},setLoading(t,e){t.loading=e}},actions:{async loadUpcoming(t){let{state:e,commit:a}=t;if(e.loading)return e.loading;const r=(async()=>{a("setCurrentBoard",null);const t=await rt.get("upcoming"),e=Object.values(t).flat();for(const t in e)a("addCard",e[t]);a("setAssignedCards",t),a("setLoading",!1)})();return a("setLoading",r),r}}};M.default.use(i.default);const it=new G.f,dt="",nt="archived",ot="shared",ct=new i.default.Store({modules:{actions:U,stack:R,card:Q,comment:V,trashbin:tt,attachment:at,overview:st},strict:!1,state:{isFullApp:!0,config:(0,P.C)("deck","config",{}),showArchived:!1,navShown:null===localStorage.getItem("deck.navShown")||"true"===localStorage.getItem("deck.navShown"),compactMode:"true"===localStorage.getItem("deck.compactMode"),showCardCover:"true"===localStorage.getItem("deck.showCardCover"),sidebarShown:!1,currentBoard:null,currentCard:null,boards:(0,P.C)("deck","initialBoards",[]),sharees:[],assignableUsers:[],boardFilter:dt,searchQuery:"",activity:[],activityLoadMore:!0,filter:{tags:[],users:[],due:"",completed:"both"},shortcutLock:!1},getters:{config:t=>e=>!t.isFullApp&&"cardDetailsInModal"===e||t.config[e],getSearchQuery:t=>t.searchQuery,getFilter:t=>t.filter,boards:t=>t.boards,boardById:t=>e=>t.boards.find((t=>t.id===e)),assignables:t=>[...t.assignableUsers.map((t=>({...t,type:0}))),...t.currentBoard.acl.filter((t=>1===t.type&&"object"==typeof t.participant)).map((t=>({...t.participant,type:1}))),...t.currentBoard.acl.filter((t=>7===t.type&&"object"==typeof t.participant)).map((t=>({...t.participant,type:7})))],noneArchivedBoards:t=>t.boards.filter((t=>!1===t.archived&&!t.deletedAt)),archivedBoards:t=>t.boards.filter((t=>!0===t.archived&&!t.deletedAt)),sharedBoards:t=>t.boards.filter((t=>t.shared&&!t.deletedAt)),filteredBoards:t=>t.boards.filter((e=>t.boardFilter===dt&&!1===e.archived||t.boardFilter===nt&&!0===e.archived||t.boardFilter===ot&&1===e.shared)),currentBoardLabels:t=>t.currentBoard?t.currentBoard.labels:[],canEdit:t=>!!t.currentBoard&&t.currentBoard.permissions.PERMISSION_EDIT,canManage:t=>!!t.currentBoard&&t.currentBoard.permissions.PERMISSION_MANAGE,canShare:t=>!!t.currentBoard&&t.currentBoard.permissions.PERMISSION_SHARE,isArchived:t=>t.currentBoard&&t.currentBoard.archived},mutations:{setFullApp(t,e){M.default.set(t,"isFullApp",e)},SET_CONFIG(t,e){let{key:a,value:r}=e;const[s,i,d]=a.split(":",3);let n=-1;if("board"===s)n=t.boards.findIndex((t=>i===""+t.id)),n>-1&&M.default.set(t.boards[n].settings,d,r);else M.default.set(t.config,a,r)},setSearchQuery(t,e){t.searchQuery=e},SET_FILTER(t,e){Object.assign(t.filter,e)},TOGGLE_FILTER(t,e){Object.keys(e).forEach((a=>{if("due"===a)M.default.set(t.filter,a,e.due);else e[a].forEach((e=>{-1===t.filter[a].indexOf(e)?t.filter[a].push(e):t.filter[a].splice(t.filter[a].indexOf(e),1)}))}))},toggleShowArchived(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t.showArchived=void 0!==e?e:!t.showArchived},addBoard(t,e){const a=t.boards.findIndex((t=>e.id===t.id));a>-1?M.default.set(t.boards,a,e):t.boards.push(e)},cloneBoard(t,e){const a=t.boards.findIndex((t=>e.id===t.id));a>-1?M.default.set(t.boards,a,e):t.boards.push(e)},removeBoard(t,e){t.boards=t.boards.filter((t=>e.id!==t.id))},toggleNav(t,e){t.navShown=e,localStorage.setItem("deck.navShown",e)},toggleSidebar(t){t.sidebarShown=!t.sidebarShown},toggleCompactMode(t){t.compactMode=!t.compactMode,localStorage.setItem("deck.compactMode",t.compactMode)},toggleShowCardCover(t){t.showCardCover=!t.showCardCover,localStorage.setItem("deck.showCardCover",t.showCardCover)},setBoards(t,e){t.boards=e},setSharees(t,e){M.default.set(t,"sharees",e.exact.users),t.sharees.push(...e.exact.groups),t.sharees.push(...e.exact.circles),t.sharees.push(...e.users),t.sharees.push(...e.groups),t.sharees.push(...e.circles)},setAssignableUsers(t,e){t.assignableUsers=e},setBoardFilter(t,e){t.boardFilter=e},setCurrentBoard(t,e){t.currentBoard=e},setCurrentCard(t,e){t.currentCard=e},removeLabelFromCurrentBoard(t,e){const a=t.currentBoard.labels.findIndex((t=>e===t.id));a>-1&&t.currentBoard.labels.splice(a,1)},updateLabelFromCurrentBoard(t,e){const a=t.currentBoard.labels.find((t=>e.id===t.id));a.title=e.title,a.color=e.color},addLabelToCurrentBoard(t,e){t.currentBoard.labels.push(e)},addAclToCurrentBoard(t,e){t.currentBoard.acl.push(e)},updateAclFromCurrentBoard(t,e){for(const a in t.currentBoard.acl)if(t.currentBoard.acl[a].participant.uid===e.participant.uid){M.default.set(t.currentBoard.acl,a,e);break}},deleteAclFromCurrentBoard(t,e){let a=-1;for(const r in t.currentBoard.acl){const s=t.currentBoard.acl[r];if(e.id===s.id){a=r;break}}a>-1&&M.default.delete(t.currentBoard.acl,a)},TOGGLE_SHORTCUT_LOCK(t,e){t.shortcutLock=e}},actions:{setFullApp(t,e){let{commit:a}=t;a("setFullApp",e)},async setConfig(t,e){let{commit:a}=t;for(const t in e)try{await N.Ay.post((0,$.KT)(`apps/deck/api/v1.0/config/${t}`),{value:e[t]}),a("SET_CONFIG",{key:t,value:e[t]})}catch(e){throw console.error(`Error while saving ${t}`,e.response),e}},setFilter(t,e){let{commit:a}=t;a("SET_FILTER",e)},toggleFilter(t,e){let{commit:a}=t;a("TOGGLE_FILTER",e)},async loadBoardById(t,e){let{commit:a,dispatch:r}=t;r("setFilter",{tags:[],users:[],due:""}),a("setCurrentBoard",null);const s=await it.loadById(e);a("setCurrentBoard",s),a("setAssignableUsers",s.users)},async refreshBoard(t,e){let{commit:a,dispatch:r}=t;const s=await it.loadById(e),i=s.ETag!==this.state.currentBoard.ETag;a("setCurrentBoard",s),a("setAssignableUsers",s.users),i&&r("loadStacks",e)},toggleShowArchived(t){let{commit:e}=t;e("toggleShowArchived")},archiveBoard(t,e){let{commit:a}=t;const r=JSON.parse(JSON.stringify(e));r.archived=!0,it.updateBoard(r).then((t=>{a("addBoard",t)}))},unarchiveBoard(t,e){let{commit:a}=t;const r=JSON.parse(JSON.stringify(e));r.archived=!1,it.updateBoard(r).then((t=>{a("addBoard",t)}))},async updateBoard(t,e){let{commit:a}=t;a("addBoard",await it.updateBoard(e))},async createBoard(t,e){let{commit:a}=t;try{a("addBoard",await it.createBoard(e))}catch(t){return t}},async cloneBoard(t,e){let{commit:a}=t,{boardData:r,settings:s}=e;const{withCards:i,withAssignments:d,withLabels:n,withDueDate:o,moveCardsToLeftStack:c,restoreArchivedCards:A}=s;try{const t=await it.cloneBoard(r,i,d,n,o,c,A);return a("cloneBoard",t),t}catch(t){return t}},removeBoard(t,e){let{commit:a}=t;a("removeBoard",e)},async loadBoards(t){let{commit:e}=t;e("setBoards",await it.loadBoards())},async loadSharees(t,e){let{commit:a}=t;const r=new URLSearchParams;if(void 0===e)return;r.append("search",e),r.append("format","json"),r.append("perPage",20),r.append("itemType",[0,1,4,7]),r.append("lookup",!1);a("setSharees",(await N.Ay.get((0,$.KT)("apps/files_sharing/api/v1/sharees"),{params:r})).data.ocs.data)},setBoardFilter(t,e){let{commmit:a}=t;a("setBoardFilter",e)},toggleNav(t,e){let{commit:a}=t;a("toggleNav",e)},toggleSidebar(t){let{commit:e}=t;e("toggleSidebar")},toggleCompactMode(t){let{commit:e}=t;e("toggleCompactMode")},toggleShowCardCover(t){let{commit:e}=t;e("toggleShowCardCover")},setCurrentBoard(t,e){let{commit:a}=t;a("setCurrentBoard",e)},setAssignableUsers(t,e){let{commit:a}=t;a("setAssignableUsers",e)},setCurrentCard(t,e){let{commit:a}=t;a("setCurrentCard",e)},removeLabelFromCurrentBoard(t,e){let{commit:a}=t;it.deleteLabel(e).then((t=>{a("removeLabelFromCurrentBoard",t.id)}))},updateLabelFromCurrentBoard(t,e){let{commit:a}=t;it.updateLabel(e).then((t=>{a("updateLabelFromCurrentBoard",t)}))},addLabelToCurrentBoard(t,e){let{commit:a}=t;e.boardId=this.state.currentBoard.id,it.createLabel(e).then((t=>{a("addLabelToCurrentBoard",t)}))},async addLabelToCurrentBoardAndCard(t,e){let{dispatch:a,commit:r}=t,{newLabel:s,card:i}=e;s.boardId=this.state.currentBoard.id;const d=await it.createLabel(s);return r("addLabelToCurrentBoard",d),a("addLabel",{card:i,labelId:d.id}),d},async addAclToCurrentBoard(t,e){let{dispatch:a,commit:r}=t;e.boardId=this.state.currentBoard.id;r("addAclToCurrentBoard",await it.addAcl(e)),a("refreshBoard",e.boardId)},updateAclFromCurrentBoard(t,e){let{commit:a}=t;e.boardId=this.state.currentBoard.id,it.updateAcl(e).then((t=>{a("updateAclFromCurrentBoard",t)}))},deleteAclFromCurrentBoard(t,e){let{dispatch:a,commit:r}=t;e.boardId=this.state.currentBoard.id,it.deleteAcl(e).then((t=>{r("deleteAclFromCurrentBoard",t),a("loadBoardById",t.boardId)}))},async transferOwnership(t,e){let{commit:a}=t,{boardId:r,newOwner:s}=e;await N.Ay.put((0,$.Jv)(`apps/deck/boards/${r}/transferOwner`),{newOwner:s})},toggleShortcutLock(t,e){let{commit:a}=t;a("TOGGLE_SHORTCUT_LOCK",e)}}});let At=!1,lt=!1;function Ct(t){return!(!N.Ay.defaults.headers["x-nc-deck-session"]||!N.Ay.defaults.headers["x-nc-deck-session"].startsWith(t))}function ut(){return At}function pt(t){if(!ut())return{async close(){}};let e,a;const r=()=>{e=F.createSession(t).then((t=>t.token)),e.then((t=>{a=t,N.Ay.defaults.headers["x-nc-deck-session"]=t}))};r();const s=async()=>{if(e){if(!lt)try{lt=!0,await F.syncSession(t,await e)}catch(t){404===t.response.status?r():console.error("Failed to sync deck session",t)}finally{lt=!1}}else r()};let i=setInterval(s,9e4);const d=()=>{"hidden"===document.visibilityState&&a?(F.closeSessionViaBeacon(t,a),e=null,a=null,delete N.Ay.defaults.headers["x-nc-deck-session"],clearInterval(i)):(s(),ct.dispatch("refreshBoard",ct.state.currentBoard?.id),clearInterval(i),i=setInterval(s,9e4))};return document.addEventListener("visibilitychange",d),{async close(){clearInterval(i),document.removeEventListener("visibilitychange",d),a&&(await F.closeSession(t,a),e=null,a=null,delete N.Ay.defaults.headers["x-nc-deck-session"])}}}At=(0,L.listen)("deck_board_update",((t,e)=>{if(Ct(e._causingSessionToken))return;const a=ct.state.currentBoard?.id;e.id===a&&ct.dispatch("refreshBoard",a)})),(0,L.listen)("deck_card_update",((t,e)=>{if(Ct(e._causingSessionToken))return;const a=ct.state.currentBoard?.id;e.boardId===a&&ct.dispatch("loadStacks",a)}));var mt=r(4587),ht=r(21777);const vt={name:"Controls",components:{CreateNewCardCustomPicker:mt.default,NcModal:n.FH,NcActions:n.B6,NcActionButton:n.Ko,NcButton:n.x1,NcPopover:n.rI,NcAvatar:n.Bx,ArchiveIcon:c.A,ImageIcon:A.A,FilterIcon:l.A,FilterOffIcon:C.A,ArrowCollapseVerticalIcon:p.A,ArrowExpandVerticalIcon:m.A,TableColumnPlusAfter:u.A,SessionList:j},mixins:[o.A],props:{board:{type:Object,required:!1,default:null},overviewName:{type:String,required:!1,default:null}},data:()=>({newStackTitle:"",stack:"",filterVisible:!1,showArchived:!1,isAddStackVisible:!1,filter:{tags:[],users:[],due:"",unassigned:!1,completed:"both"},showAddCardModal:!1,defaultPageTitle:!1,isNotifyPushEnabled:ut()}),computed:{...(0,i.L8)(["canEdit","canManage"]),...(0,i.aH)({isFullApp:t=>t.isFullApp,compactMode:t=>t.compactMode,showCardCover:t=>t.showCardCover,searchQuery:t=>t.searchQuery}),detailsRoute:()=>({name:"board.details"}),isFilterActive(){return 0!==this.filter.tags.length||0!==this.filter.users.length||""!==this.filter.due||"both"!==this.filter.completed},labelsSorted(){return[...this.board.labels].sort(((t,e)=>t.title<e.title?-1:1))},presentUsers(){return this.board?this.board.users.filter((t=>this.board.activeSessions.includes(t.uid))):[]}},watch:{board(t,e){t?.id!==e?.id&&this.clearFilter(),t&&this.setPageTitle(t.title)}},beforeMount(){(0,d.B1)("deck:board:show-new-card",this.clickShowAddCardModel),(0,d.B1)("deck:board:toggle-filter-popover",this.triggerOpenFilters),(0,d.B1)("deck:board:clear-filter",this.triggerClearFilter),(0,d.B1)("deck:board:toggle-filter-by-me",this.triggerFilterByMe)},beforeDestroy(){(0,d.al)("deck:board:show-new-card",this.clickShowAddCardModel),(0,d.al)("deck:board:toggle-filter-popover",this.triggerOpenFilters),(0,d.al)("deck:board:clear-filter",this.triggerClearFilter),(0,d.al)("deck:board:toggle-filter-by-me",this.triggerFilterByMe),this.setPageTitle("")},methods:{beforeSetFilter(t){this.filter.due===t.target.value&&(this.filter.due="",this.$store.dispatch("setFilter",{...this.filter})),"unassigned"===t.target.value?(this.filter.users=[],this.$store.dispatch("setFilter",{...this.filter})):(this.filter.completed="both",this.$store.dispatch("setFilter",{...this.filter})),this.$store.dispatch("setFilter",{...this.filter})},setFilter(){this.filter.users.length>0&&(this.filter.unassigned=!1),this.$nextTick((()=>this.$store.dispatch("setFilter",{...this.filter})))},toggleNav(){this.$store.dispatch("toggleNav")},toggleCompactMode(){this.$store.dispatch("toggleCompactMode")},toggleShowCardCover(){this.$store.dispatch("toggleShowCardCover")},toggleShowArchived(){this.$store.dispatch("toggleShowArchived"),this.showArchived=!this.showArchived},addNewStack(){this.stack={title:this.newStackTitle},this.$store.dispatch("createStack",this.stack),this.newStackTitle="",this.stack=null,this.isAddStackVisible=!1},showAddStack(){this.isAddStackVisible=!0},hideAddStack(){this.isAddStackVisible=!1},toggleDetailsView(){"board.details"===this.$route.name?this.$router.push({name:"board"}):this.$router.push({name:"board.details"})},clearFilter(){const t={tags:[],users:[],due:"",completed:"both"};this.$store.dispatch("setFilter",{...t}),this.filter=t},clickShowAddCardModel(){this.showAddCardModal=!0},clickHideAddCardModel(){this.showAddCardModal=!1},setPageTitle(t){if(!this.isFullApp)return;!1===this.defaultPageTitle&&(this.defaultPageTitle=window.document.title,-1!==this.defaultPageTitle.indexOf(" - Deck - ")&&(this.defaultPageTitle=this.defaultPageTitle.substring(this.defaultPageTitle.indexOf(" - Deck - ")+3)),0!==this.defaultPageTitle.indexOf("Deck - ")&&(this.defaultPageTitle="Deck - "+this.defaultPageTitle));let e=this.defaultPageTitle;""!==t&&(e=`${t} - ${e}`),window.document.title=e},triggerOpenFilters(){this.$refs.filterPopover.$el.click()},triggerOpenSearch(){this.$refs.search.focus()},triggerClearFilter(){this.clearFilter()},triggerFilterByMe(){this.isFilterActive?this.clearFilter():(this.filter.users=[(0,ht.HW)().uid],this.setFilter())}}};var ft=r(87517),gt={};gt.styleTagTransform=D(),gt.setAttributes=w(),gt.insert=k().bind(null,"head"),gt.domAPI=b(),gt.insertStyleElement=B();f()(ft.A,gt);ft.A&&ft.A.locals&&ft.A.locals;var bt=r(17),yt={};yt.styleTagTransform=D(),yt.setAttributes=w(),yt.insert=k().bind(null,"head"),yt.domAPI=b(),yt.insertStyleElement=B();f()(bt.A,yt);bt.A&&bt.A.locals&&bt.A.locals;const kt=(0,E.A)(vt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"controls"},[t.showAddCardModal?e("NcModal",{staticClass:"card-selector",on:{close:t.clickHideAddCardModel}},[e("CreateNewCardCustomPicker",{attrs:{"show-created-notice":""},on:{cancel:t.clickHideAddCardModel}})],1):t._e(),t._v(" "),t.overviewName?e("div",{staticClass:"board-title"},[e("div",{staticClass:"board-bullet icon-calendar-dark"}),t._v(" "),e("h2",{attrs:{dir:"auto"}},[t._v("\n\t\t\t"+t._s(t.overviewName)+"\n\t\t")]),t._v(" "),e("NcActions",[e("NcActionButton",{attrs:{icon:"icon-add"},on:{click:t.clickShowAddCardModel}},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Add card"))+"\n\t\t\t")])],1)],1):t.board?e("div",{staticClass:"board-title"},[e("div",{staticClass:"board-bullet",style:{backgroundColor:"#"+t.board.color}}),t._v(" "),e("h2",{attrs:{dir:"auto"}},[t._v("\n\t\t\t"+t._s(t.board.title)+"\n\t\t")]),t._v(" "),t.showArchived?e("p",[t._v("\n\t\t\t("+t._s(t.t("deck","Archived cards"))+")\n\t\t")]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"board-actions"},[t.isNotifyPushEnabled&&t.presentUsers.length?e("SessionList",{attrs:{sessions:t.presentUsers}}):t._e(),t._v(" "),t._e(),t._v(" "),t.board&&t.canManage&&!t.showArchived&&!t.board.archived?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideAddStack,expression:"hideAddStack"}],attrs:{id:"stack-add"}},[t.isAddStackVisible?e("form",{on:{submit:function(e){return e.preventDefault(),t.addNewStack()}}},[e("label",{staticClass:"hidden-visually",attrs:{for:"new-stack-input-main"}},[t._v(t._s(t.t("deck","Add list")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newStackTitle,expression:"newStackTitle"},{name:"focus",rawName:"v-focus"}],staticClass:"no-close",attrs:{id:"new-stack-input-main",type:"text",placeholder:t.t("deck","List name"),required:""},domProps:{value:t.newStackTitle},on:{focus:function(e){return t.$store.dispatch("toggleShortcutLock",!0)},blur:function(e){return t.$store.dispatch("toggleShortcutLock",!1)},input:function(e){e.target.composing||(t.newStackTitle=e.target.value)}}}),t._v(" "),e("input",{staticClass:"icon-confirm",attrs:{title:t.t("deck","Add list"),type:"submit",value:""}})]):e("NcActions",[e("NcActionButton",{on:{click:function(e){return e.stopPropagation(),t.showAddStack.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TableColumnPlusAfter",{attrs:{size:20}})]},proxy:!0}],null,!1,3416413118)},[t._v("\n\t\t\t\t\t"+t._s(t.t("deck","Add list"))+"\n\t\t\t\t\t")])],1)],1):t._e(),t._v(" "),t.board?e("div",{staticClass:"board-action-buttons"},[e("div",{staticClass:"board-action-buttons__filter"},[e("NcPopover",{attrs:{placement:"bottom-end","aria-label":t.t("deck","Active filters"),name:t.t("deck","Active filters")},on:{show:function(e){t.filterVisible=!0},hide:function(e){t.filterVisible=!1}},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("NcButton",{ref:"filterPopover",staticClass:"filter-button",attrs:{title:t.t("deck","Apply filter"),"aria-label":t.t("deck","Apply filter"),type:t.isFilterActive?"primary":"tertiary"},scopedSlots:t._u([{key:"icon",fn:function(){return[t.isFilterActive?e("FilterIcon",{attrs:{size:20,decorative:""}}):e("FilterOffIcon",{attrs:{size:20,decorative:""}})]},proxy:!0}],null,!1,2332309571)})]},proxy:!0}],null,!1,2069517790)},[t._v(" "),t.filterVisible?e("div",{staticClass:"filter"},[e("h3",[t._v(t._s(t.t("deck","Filter by tag")))]),t._v(" "),t._l(t.labelsSorted,(function(a){return e("div",{key:a.id,staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.tags,expression:"filter.tags"}],staticClass:"checkbox",attrs:{id:a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.filter.tags)?t._i(t.filter.tags,a.id)>-1:t.filter.tags},on:{change:[function(e){var r=t.filter.tags,s=e.target,i=!!s.checked;if(Array.isArray(r)){var d=a.id,n=t._i(r,d);s.checked?n<0&&t.$set(t.filter,"tags",r.concat([d])):n>-1&&t.$set(t.filter,"tags",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.filter,"tags",i)},t.setFilter]}}),t._v(" "),e("label",{attrs:{for:a.id}},[e("span",{staticClass:"label",style:t.labelStyle(a)},[t._v(t._s(a.title))])])])})),t._v(" "),e("h3",[t._v(t._s(t.t("deck","Filter by assigned user")))]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.unassigned,expression:"filter.unassigned"}],staticClass:"checkbox",attrs:{id:"unassigned",type:"checkbox",value:"unassigned"},domProps:{checked:Array.isArray(t.filter.unassigned)?t._i(t.filter.unassigned,"unassigned")>-1:t.filter.unassigned},on:{change:[function(e){var a=t.filter.unassigned,r=e.target,s=!!r.checked;if(Array.isArray(a)){var i="unassigned",d=t._i(a,i);r.checked?d<0&&t.$set(t.filter,"unassigned",a.concat([i])):d>-1&&t.$set(t.filter,"unassigned",a.slice(0,d).concat(a.slice(d+1)))}else t.$set(t.filter,"unassigned",s)},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"unassigned"}},[t._v(t._s(t.t("deck","Unassigned")))])]),t._v(" "),t._l(t.board.users,(function(a){return e("div",{key:a.uid,staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.users,expression:"filter.users"}],staticClass:"checkbox",attrs:{id:a.uid,type:"checkbox"},domProps:{value:a.uid,checked:Array.isArray(t.filter.users)?t._i(t.filter.users,a.uid)>-1:t.filter.users},on:{change:[function(e){var r=t.filter.users,s=e.target,i=!!s.checked;if(Array.isArray(r)){var d=a.uid,n=t._i(r,d);s.checked?n<0&&t.$set(t.filter,"users",r.concat([d])):n>-1&&t.$set(t.filter,"users",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.filter,"users",i)},t.setFilter]}}),t._v(" "),e("label",{attrs:{for:a.uid}},[e("NcAvatar",{attrs:{user:a.uid,size:24,"disable-menu":!0}}),t._v(" "+t._s(a.displayname))],1)])})),t._v(" "),e("h3",[t._v(t._s(t.t("deck","Filter by status")))]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.completed,expression:"filter.completed"}],staticClass:"radio",attrs:{id:"filter-option-both",type:"radio",value:"both"},domProps:{checked:t._q(t.filter.completed,"both")},on:{change:[function(e){return t.$set(t.filter,"completed","both")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"filter-option-both"}},[t._v(t._s(t.t("deck","Open and completed")))])]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.completed,expression:"filter.completed"}],staticClass:"radio",attrs:{id:"filter-option-open",type:"radio",value:"open"},domProps:{checked:t._q(t.filter.completed,"open")},on:{change:[function(e){return t.$set(t.filter,"completed","open")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"filter-option-open"}},[t._v(t._s(t.t("deck","Open")))])]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.completed,expression:"filter.completed"}],staticClass:"radio",attrs:{id:"filter-option-completed",type:"radio",value:"completed"},domProps:{checked:t._q(t.filter.completed,"completed")},on:{change:[function(e){return t.$set(t.filter,"completed","completed")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"filter-option-completed"}},[t._v(t._s(t.t("deck","Completed")))])]),t._v(" "),e("h3",[t._v(t._s(t.t("deck","Filter by due date")))]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.due,expression:"filter.due"}],staticClass:"radio",attrs:{id:"overdue",type:"radio",value:"overdue"},domProps:{checked:t._q(t.filter.due,"overdue")},on:{change:[function(e){return t.$set(t.filter,"due","overdue")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"overdue"}},[t._v(t._s(t.t("deck","Overdue")))])]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.due,expression:"filter.due"}],staticClass:"radio",attrs:{id:"dueToday",type:"radio",value:"dueToday"},domProps:{checked:t._q(t.filter.due,"dueToday")},on:{change:[function(e){return t.$set(t.filter,"due","dueToday")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"dueToday"}},[t._v(t._s(t.t("deck","Next 24 hours")))])]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.due,expression:"filter.due"}],staticClass:"radio",attrs:{id:"dueWeek",type:"radio",value:"dueWeek"},domProps:{checked:t._q(t.filter.due,"dueWeek")},on:{change:[function(e){return t.$set(t.filter,"due","dueWeek")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"dueWeek"}},[t._v(t._s(t.t("deck","Next 7 days")))])]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.due,expression:"filter.due"}],staticClass:"radio",attrs:{id:"dueMonth",type:"radio",value:"dueMonth"},domProps:{checked:t._q(t.filter.due,"dueMonth")},on:{change:[function(e){return t.$set(t.filter,"due","dueMonth")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"dueMonth"}},[t._v(t._s(t.t("deck","Next 30 days")))])]),t._v(" "),e("div",{staticClass:"filter--item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.due,expression:"filter.due"}],staticClass:"radio",attrs:{id:"noDue",type:"radio",value:"noDue"},domProps:{checked:t._q(t.filter.due,"noDue")},on:{change:[function(e){return t.$set(t.filter,"due","noDue")},t.setFilter],click:t.beforeSetFilter}}),t._v(" "),e("label",{attrs:{for:"noDue"}},[t._v(t._s(t.t("deck","No due date")))])]),t._v(" "),e("NcButton",{attrs:{disabled:!t.isFilterActive,wide:!0},on:{click:t.clearFilter}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.t("deck","Clear filter"))+"\n\t\t\t\t\t\t")])],2):t._e()])],1),t._v(" "),e("NcActions",{attrs:{"aria-label":t.t("deck","View Modes"),name:t.t("deck","Toggle View Modes")}},[e("NcActionButton",{on:{click:t.toggleShowArchived},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArchiveIcon",{attrs:{size:20,decorative:""}})]},proxy:!0}],null,!1,2522540071)},[t._v("\n\t\t\t\t\t"+t._s(t.showArchived?t.t("deck","Hide archived cards"):t.t("deck","Show archived cards"))+"\n\t\t\t\t")]),t._v(" "),t.compactMode?e("NcActionButton",{on:{click:t.toggleCompactMode}},[e("ArrowExpandVerticalIcon",{attrs:{slot:"icon",size:20,decorative:""},slot:"icon"}),t._v("\n\t\t\t\t\t"+t._s(t.t("deck","Toggle compact mode"))+"\n\t\t\t\t")],1):e("NcActionButton",{on:{click:t.toggleCompactMode}},[e("ArrowCollapseVerticalIcon",{attrs:{slot:"icon",size:20,decorative:""},slot:"icon"}),t._v("\n\t\t\t\t\t"+t._s(t.t("deck","Toggle compact mode"))+"\n\t\t\t\t")],1),t._v(" "),e("NcActionButton",{on:{click:t.toggleShowCardCover},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ImageIcon",{attrs:{size:20,decorative:""}})]},proxy:!0}],null,!1,4228331746)},[t._v("\n\t\t\t\t\t"+t._s(t.showCardCover?t.t("deck","Hide card cover images"):t.t("deck","Show card cover images"))+"\n\t\t\t\t")])],1),t._v(" "),t.isFullApp?e("NcActions",[e("NcActionButton",{attrs:{icon:"icon-menu-sidebar","aria-label":t.t("deck","Open details"),name:t.t("deck","Details")},on:{click:t.toggleDetailsView}})],1):t._e()],1):t._e()],1)],1)}),[],!1,null,"8382b7c2",null).exports;var xt=r(87693),wt=r(91882),_t=r(25276),Bt=r.n(_t),It=r(66678),Dt=r(85168),St=r(96095);const Tt={name:"CardId",props:{card:{type:Object,default:null}}};var Et=r(69081),jt={};jt.styleTagTransform=D(),jt.setAttributes=w(),jt.insert=k().bind(null,"head"),jt.domAPI=b(),jt.insertStyleElement=B();f()(Et.A,jt);Et.A&&Et.A.locals&&Et.A.locals;const Lt=(0,E.A)(Tt,(function(){var t=this,e=t._self._c;return t.card?e("div",{staticClass:"cardid"},[e("span",[t._v("#"+t._s(t.card.id))])]):t._e()}),[],!1,null,"4f03dbb8",null).exports;var Nt=r(24319),$t=r(41526),Ft=r(77905),Pt=r(42433),Mt=r(23510),Gt=r(51651),Ut=r(87804),zt=r(23034),Ot=r(85190);const Wt="Done",Rt="Future",Ht="Next",qt="Now",Yt="Overdue",Kt={name:"DueDate",components:{CheckCircle:Ot.A,Clock:Ut.A,ClockOutline:zt.A},props:{card:{type:Object,default:null}},computed:{...(0,i.aH)({compactMode:t=>t.compactMode}),dueState(){if(this.card.done)return Wt;const t=Math.floor((0,Gt.A)(this.card.duedate).diff(this.$root.time,"seconds")/60/60/24);return t<0?Yt:0===t?qt:1===t?Ht:Rt},overdue(){return this.dueState===Yt},relativeDate(){const e=this.card.done?this.card.done:this.card.duedate,a=(0,Gt.A)(this.$root.time).diff(e,"seconds");return a>=0&&a<45?t("core","seconds ago"):(0,Gt.A)(e).fromNow()},absoluteDate(){const t=this.card.done?this.card.done:this.card.duedate;return(0,Gt.A)(t).format("LLLL")}}};var Qt=r(80483),Xt={};Xt.styleTagTransform=D(),Xt.setAttributes=w(),Xt.insert=k().bind(null,"head"),Xt.domAPI=b(),Xt.insertStyleElement=B();f()(Qt.A,Xt);Qt.A&&Qt.A.locals&&Qt.A.locals;const Vt=(0,E.A)(Kt,(function(){var t=this,e=t._self._c;return t.card?e("div",{staticClass:"duedate",attrs:{"data-due-state":t.dueState}},[e("transition",{attrs:{name:"zoom"}},[t.card.duedate||t.card.done?e("div",{staticClass:"due",attrs:{name:t.absoluteDate}},[t.card.done?e("CheckCircle",{attrs:{size:16}}):t.overdue?e("Clock",{attrs:{size:16}}):e("ClockOutline",{attrs:{size:16}}),t._v(" "),t.compactMode?t._e():e("span",{staticClass:"due--label"},[t._v(t._s(t.relativeDate))])],1):t._e()])],1):t._e()}),[],!1,null,"335a1ab6",null).exports,Jt={name:"CardBadges",components:{DueDate:Vt,NcAvatarList:St.A,TextIcon:Nt.A,AttachmentIcon:$t.A,CheckmarkIcon:Ft.A,CommentIcon:Pt.A,CommentUnreadIcon:Mt.A,CardId:Lt},props:{card:{type:Object,default:null}},computed:{checkListCount(){return(this.card.description.match(/^\s*([*+-]|(\d\.))\s+\[\s*(\s|x)\s*\](.*)$/gim)||[]).length},checkListCheckedCount(){return(this.card.description.match(/^\s*([*+-]|(\d\.))\s+\[\s*x\s*\](.*)$/gim)||[]).length},commentsHint(){return this.card.commentsUnread>0?t("deck","{count} comments, {unread} unread",{count:this.card.commentsCount,unread:this.card.commentsUnread}):null},idBadge(){return this.$store.getters.config("cardIdBadge")}},methods:{openComments(){const t=this.card&&this.card.boardId?this.card.boardId:this.$route.params.id;this.$router.push({name:"card",params:{id:t,cardId:this.card.id,tabId:"comments"}})}}};var Zt=r(22931),te={};te.styleTagTransform=D(),te.setAttributes=w(),te.insert=k().bind(null,"head"),te.domAPI=b(),te.insertStyleElement=B();f()(Zt.A,te);Zt.A&&Zt.A.locals&&Zt.A.locals;const ee=(0,E.A)(Jt,(function(){var t=this,e=t._self._c;return t.card?e("div",{staticClass:"badges"},[e("div",{staticClass:"badge-left"},[t.card.duedate||t.card.done?e("DueDate",{attrs:{card:t.card}}):t._e(),t._v(" "),e("div",{staticClass:"inline-badges"},[t.idBadge?e("CardId",{staticClass:"icon-badge",attrs:{card:t.card}}):t._e(),t._v(" "),t.card.commentsCount>0?e("div",{staticClass:"icon-badge",attrs:{title:t.commentsHint},on:{click:function(e){return e.stopPropagation(),t.openComments.apply(null,arguments)}}},[t.card.commentsUnread>0?e("CommentUnreadIcon",{attrs:{size:16}}):e("CommentIcon",{attrs:{size:16}}),t._v(" "),e("span",[t._v(t._s(t.card.commentsCount))])],1):t._e(),t._v(" "),t.card.description&&t.checkListCount>0?e("div",{staticClass:"icon-badge"},[e("CheckmarkIcon",{attrs:{size:16,title:t.t("deck","Todo items")}}),t._v(" "),e("span",[t._v(t._s(t.checkListCheckedCount)+"/"+t._s(t.checkListCount))])],1):t.card.description&&t.card.description.trim()&&0==t.checkListCount?e("div",{staticClass:"icon-badge"},[e("TextIcon",{attrs:{size:16,decorative:""}})],1):t._e(),t._v(" "),t.card.attachmentCount>0?e("div",{staticClass:"icon-badge"},[e("AttachmentIcon",{attrs:{size:16}}),t._v(" "),e("span",[t._v(t._s(t.card.attachmentCount))])],1):t._e()],1)],1),t._v(" "),e("div",{staticClass:"badge-right"},[e("NcAvatarList",{attrs:{users:t.card.assignedUsers,size:32}}),t._v(" "),t._t("default")],2)]):t._e()}),[],!1,null,"60d5294a",null).exports;var ae=r(44095),re=r(37375),se=r(26546),ie=r(90043),de=r(6513);r(18205);const ne={name:"CardMenuEntries",components:{NcActionButton:n.Ko,ArchiveIcon:c.A,CardBulletedIcon:ie.A,PencilIcon:de.A},props:{card:{type:Object,default:null},hideDetailsEntry:{type:Boolean,default:!1}},emits:["edit-title"],data:()=>({modalShow:!1,selectedBoard:"",selectedStack:"",stacksFromBoard:[]}),computed:{...(0,i.L8)(["isArchived","boards","cardActions","stackById","boardById"]),...(0,i.aH)({showArchived:t=>t.showArchived,currentBoard:t=>t.currentBoard}),canEdit(){return!this.card.archived},canEditBoard(){if(this.currentBoard)return this.$store.getters.canEdit;const t=this.$store.getters.boards.find((t=>t.id===this.card.boardId));return!!t?.permissions?.PERMISSION_EDIT},isCurrentUserAssigned(){return this.card.assignedUsers.find((t=>0===t.type&&t.participant.uid===(0,ht.HW)()?.uid))},boardId(){return this.card?.boardId?this.card.boardId:Number(this.$route.params.id)},cardRichObject(){return{id:""+this.card.id,name:this.card.title,boardname:this.boardById(this.boardId)?.title,stackname:this.stackById(this.card.stackId)?.title,link:window.location.protocol+"//"+window.location.host+(0,$.Jv)("/apps/deck/")+`card/${this.card.id}`}}},methods:{openCard(){const t=this.card?.boardId?this.card.boardId:this.$route?.params.id??this.currentBoard.id;this.$router?this.$router?.push({name:"card",params:{id:t,cardId:this.card.id}}).catch((()=>{})):this.$root.$emit("open-card",this.card.id)},editTitle(){this.$emit("edit-title",this.card.id)},deleteCard(){this.$store.dispatch("deleteCard",this.card);const e={...this.card,deletedAt:0};(0,Dt._h)(t("deck","Card deleted"),(()=>this.$store.dispatch("cardUndoDelete",e))),"card"===this.$router.currentRoute.name&&this.$router.push({name:"board"})},changeCardDoneStatus(){this.$store.dispatch("changeCardDoneStatus",{...this.card,done:!this.card.done})},archiveUnarchiveCard(){this.$store.dispatch("archiveUnarchiveCard",{...this.card,archived:!this.card.archived})},assignCardToMe(){this.$store.dispatch("assignCardToUser",{card:this.card,assignee:{userId:(0,ht.HW)()?.uid,type:0}})},unassignCardFromMe(){this.$store.dispatch("removeUserFromCard",{card:this.card,assignee:{userId:(0,ht.HW)()?.uid,type:0}})},openCardMoveDialog(){(0,d.Ic)("deck:card:show-move-dialog",this.card)}}};const oe=(0,E.A)(ne,(function(){var t=this,e=t._self._c;return e("div",[t.hideDetailsEntry?t._e():e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:t.openCard}},[e("CardBulletedIcon",{attrs:{slot:"icon",size:20,decorative:""},slot:"icon"}),t._v("\n\t\t"+t._s(t.t("deck","Card details"))+"\n\t")],1),t._v(" "),t.canEdit?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:t.editTitle},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PencilIcon",{attrs:{size:20,decorative:""}})]},proxy:!0}],null,!1,2919842136)},[t._v("\n\t\t"+t._s(t.t("deck","Edit title"))+"\n\t")]):t._e(),t._v(" "),t.canEdit&&!t.isCurrentUserAssigned?e("NcActionButton",{attrs:{icon:"icon-user","close-after-click":!0},on:{click:function(e){return t.assignCardToMe()}}},[t._v("\n\t\t"+t._s(t.t("deck","Assign to me"))+"\n\t")]):t._e(),t._v(" "),t.canEdit&&t.isCurrentUserAssigned?e("NcActionButton",{attrs:{icon:"icon-user","close-after-click":!0},on:{click:function(e){return t.unassignCardFromMe()}}},[t._v("\n\t\t"+t._s(t.t("deck","Unassign myself"))+"\n\t")]):t._e(),t._v(" "),t.canEdit?e("NcActionButton",{attrs:{icon:"icon-checkmark","close-after-click":!0},on:{click:function(e){return t.changeCardDoneStatus()}}},[t._v("\n\t\t"+t._s(t.card.done?t.t("deck","Mark as not done"):t.t("deck","Mark as done"))+"\n\t")]):t._e(),t._v(" "),t.canEdit?e("NcActionButton",{attrs:{icon:"icon-external","close-after-click":!0},on:{click:t.openCardMoveDialog}},[t._v("\n\t\t"+t._s(t.t("deck","Move/copy card"))+"\n\t")]):t._e(),t._v(" "),t._l(t.cardActions,(function(a){return e("NcActionButton",{key:a.label,attrs:{"close-after-click":!0,icon:a.icon},on:{click:function(e){return a.callback(t.cardRichObject)}}},[t._v("\n\t\t"+t._s(a.label)+"\n\t")])})),t._v(" "),t.canEditBoard?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.archiveUnarchiveCard()}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArchiveIcon",{attrs:{size:20,decorative:""}})]},proxy:!0}],null,!1,2522540071)},[t._v("\n\t\t"+t._s(t.card.archived?t.t("deck","Unarchive card"):t.t("deck","Archive card"))+"\n\t")]):t._e(),t._v(" "),t.canEdit?e("NcActionButton",{attrs:{icon:"icon-delete","close-after-click":!0},on:{click:function(e){return t.deleteCard()}}},[t._v("\n\t\t"+t._s(t.t("deck","Delete card"))+"\n\t")]):t._e()],2)}),[],!1,null,null,null).exports,ce={name:"CardMenu",components:{NcActions:n.B6,NcButton:n.x1,LinkIcon:se.A,CardMenuEntries:oe},props:{card:{type:Object,default:null}},emits:["edit-title"],methods:{openLink(){return window.open(this.card?.referenceData?.openGraphObject?.link),!1},editTitle(t){this.$emit("edit-title",t)}}};const Ae=(0,E.A)(ce,(function(){var t=this,e=t._self._c;return t.card?e("div",{staticClass:"card-menu",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t.card.referenceData?e("NcButton",{attrs:{type:"tertiary",title:t.t("deck","Open link")},on:{click:t.openLink},scopedSlots:t._u([{key:"icon",fn:function(){return[e("LinkIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,3213381027)}):t._e(),t._v(" "),e("NcActions",[e("CardMenuEntries",{attrs:{card:t.card},on:{"edit-title":t.editTitle}})],1)],1):t._e()}),[],!1,null,null,null).exports;const le={name:"CardCover",props:{cardId:{type:Number,required:!0}},computed:{attachments(){return[...this.$store.getters.attachmentsByCard(this.cardId)].filter((t=>t.deletedAt>=0&&t.extendedData.hasPreview)).sort(((t,e)=>e.id-t.id)).slice(0,3)},attachmentPreview(){const t=getComputedStyle(document.documentElement).getPropertyValue("--stack-width").trim(),e=260|Math.ceil(parseInt(t)/this.attachments.length);return t=>t.extendedData.fileid?(0,$.Jv)(`/core/preview?fileId=${t.extendedData.fileid}&x=${e}&y=100&a=1`):null},card(){return this.$store.getters.cardById(this.cardId)},referencePreview(){return this.card?.referenceData?.richObject?.thumb}},watch:{cardId:{immediate:!0,handler(){this.$store.getters.cardById(this.cardId)?.attachmentCount>0&&this.fetchAttachments(this.cardId)}}},methods:{...(0,i.i0)(["fetchAttachments"])}},Ce=le;var ue=r(93260),pe={};pe.styleTagTransform=D(),pe.setAttributes=w(),pe.insert=k().bind(null,"head"),pe.domAPI=b(),pe.insertStyleElement=B();f()(ue.A,pe);ue.A&&ue.A.locals&&ue.A.locals;var me=(0,E.A)(Ce,(function(){var t=this,e=t._self._c;return t.referencePreview?e("div",{staticClass:"card-cover"},[e("div",{staticClass:"image-wrapper rounded-left rounded-right",style:{backgroundImage:`url(${t.referencePreview})`}})]):t.cardId&&t.attachments.length>0?e("div",{staticClass:"card-cover"},t._l(t.attachments,(function(a,r){return e("div",{key:a.id,class:["image-wrapper",{"rounded-left":0===r},{"rounded-right":r===t.attachments.length-1}],style:{backgroundImage:`url(${t.attachmentPreview(a)})`}})})),0):t._e()}),[],!1,null,"888cbd62",null);const he=me.exports,ve=0,fe=1,ge=2,be={name:"CardItem",components:{CardBadges:ee,AttachmentDragAndDrop:re.A,CardMenu:Ae,CardCover:he,DueDate:Vt},directives:{ClickOutside:Bt()},mixins:[ae.A,o.A],props:{id:{type:Number,default:null},item:{type:Object,default:null},standalone:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1}},data:()=>({highlight:!1,editingTitle:ve}),computed:{...(0,i.aH)({compactMode:t=>t.compactMode,showArchived:t=>t.showArchived,currentBoard:t=>t.currentBoard,showCardCover:t=>t.showCardCover,shortcutLock:t=>t.shortcutLock}),...(0,i.L8)(["isArchived"]),board(){return this.$store.getters.boardById(this?.stack?.boardId)},stack(){return this.$store.getters.stackById(this?.card?.stackId)},canEdit(){if(this.currentBoard)return!this.currentBoard.archived&&this.$store.getters.canEdit;const t=this.$store.getters.boards.find((t=>t.id===this.card.boardId));return!!t&&(!t.archived&&t.permissions.PERMISSION_EDIT)},card(){return this.item?this.item:this.$store.getters.cardById(this.id)},displayTitle(){const t=this.card?.referenceData;return t?t.openGraphObject.name:this.card.title},currentCard(){return this.card&&this.$route&&this.$route.params.cardId===this.card.id},labelsSorted(){return[...this.card.labels].sort(((t,e)=>t.title<e.title?-1:1))},hasLabels(){return this.card.labels.length>0},hasBadges(){return this.card.done||this.card.duedate||this.idBadge||this.card.commentsCount>0||this.card.description||this.card.attachmentCount>0||this.card.assignedUsers.length>0},idBadge(){return this.$store.getters.config("cardIdBadge")},showMenuAtTitle(){return this.compactMode||!this.compactMode&&!this.hasBadges&&!this.hasLabels},showMenuAtLabels(){return!this.compactMode&&(!this.hasBadges&&this.hasLabels)},showMenuAtBadges(){return!this.compactMode&&this.hasBadges}},watch:{currentCard(t){t&&this.$nextTick((()=>this.$el.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})))}},methods:{hasSelection:()=>""!==window.getSelection().toString(),focus(t){this.shortcutLock||this.hasSelection()||(t=this.$refs[`card${t}`]).focus()},openCard(t){if("a"===t.target.tagName.toLowerCase())return;if(this.dragging||this.hasSelection())return;const e=this.card&&this.card.boardId?this.card.boardId:this.$route?.params.id??this.currentBoard.id;this.$router?this.$router.push({name:"card",params:{id:e,cardId:this.card.id}}).catch((()=>{})):this.$root.$emit("open-card",this.card.id)},triggerEditTitle(){this.editingTitle=fe,this.$store.dispatch("toggleShortcutLock",!0),setTimeout((()=>{const t=window.getSelection();t.selectAllChildren(this.$refs.titleContentEditable),t.collapseToEnd(),this.editingTitle=ge}),0)},onTitleBlur(t){const e=t.target.innerText.trim().replace(/\n$/,"");this.editingTitle===ge&&""!==e&&(this.editingTitle=ve,e!==this.card.title&&this.$store.dispatch("updateCardTitle",{...this.card,title:e}),this.$store.dispatch("toggleShortcutLock",!1))},onTitleFocus(){this.$store.dispatch("toggleShortcutLock",!0)},handleCardKeyboardShortcut(t){if(!OCP.Accessibility.disableKeyboardShortcuts()&&!(!this.canEdit||this.$store.state.shortcutLock||t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))switch(t.code){case"KeyE":this.triggerEditTitle();break;case"KeyA":this.$store.dispatch("archiveUnarchiveCard",{...this.card,archived:!this.card.archived});break;case"KeyO":this.$store.dispatch("changeCardDoneStatus",{...this.card,done:!this.card.done});break;case"KeyM":this.$el.querySelector("button.action-item__menutoggle")?.click();break;case"Enter":case"Space":this.openCard().then((()=>document.getElementById("app-sidebar-vue")?.focus()));break;case"KeyS":this.toggleSelfAsignment()}},applyLabelFilter(t){this.dragging||this.$nextTick((()=>this.$store.dispatch("toggleFilter",{tags:[t.id]})))},toggleSelfAsignment(){const t=this.card.assignedUsers.find((t=>0===t.type&&t.participant.uid===(0,ht.HW)()?.uid));this.$store.dispatch(t?"removeUserFromCard":"assignCardToUser",{card:this.card,assignee:{userId:(0,ht.HW)()?.uid,type:0}})},scrollIntoView(){this.$el.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),this.focus(),this.highlight=!0,setTimeout((()=>{this.highlight=!1}),2e3)}}},ye=be;var ke=r(97084),xe={};xe.styleTagTransform=D(),xe.setAttributes=w(),xe.insert=k().bind(null,"head"),xe.domAPI=b(),xe.insertStyleElement=B();f()(ke.A,xe);ke.A&&ke.A.locals&&ke.A.locals;const we=(0,E.A)(ye,(function(){var t=this,e=t._self._c;return t.card?e("AttachmentDragAndDrop",{staticClass:"drop-upload--card",attrs:{"card-id":t.card.id}},[e("div",{ref:`card${t.card.id}`,staticClass:"card",class:{compact:t.compactMode,"current-card":t.currentCard,"has-labels":t.card.labels&&t.card.labels.length>0,card__editable:t.canEdit,card__archived:t.card.archived,card__highlight:t.highlight},attrs:{tag:"div",tabindex:0},on:{click:t.openCard,keyup:function(e){return e.target!==e.currentTarget?null:t.handleCardKeyboardShortcut.apply(null,arguments)},mouseenter:function(e){return t.focus(t.card.id)}}},[t.standalone?e("div",{staticClass:"card-related"},[e("div",{staticClass:"board-bullet",style:{backgroundColor:"#"+t.board.color},attrs:{dir:"auto"}}),t._v("\n\t\t\t"+t._s(t.board.title)+" » "+t._s(t.stack.title)+"\n\t\t")]):t._e(),t._v(" "),t.showCardCover?e("CardCover",{attrs:{"card-id":t.card.id}}):t._e(),t._v(" "),e("div",{staticClass:"card-upper"},[0===t.editingTitle?e("h4",{key:"title-view",attrs:{dir:"auto"}},[e("span",{staticClass:"dragDisabled",attrs:{contenteditable:"false"}},[t._v(t._s(t.displayTitle))])]):t._e(),t._v(" "),t.editingTitle>=1?e("h4",{key:"title-edit",staticClass:"editable dragDisabled",attrs:{dir:"auto","aria-label":t.t("deck","Edit card title")}},[e("span",{ref:"titleContentEditable",attrs:{tabindex:"0",contenteditable:"true",role:"textbox"},on:{focus:t.onTitleFocus,blur:t.onTitleBlur,click:function(t){t.stopPropagation()},keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onTitleBlur.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onTitleBlur.apply(null,arguments)},function(t){t.stopPropagation()}]}},[t._v(t._s(t.card.title))])]):t._e(),t._v(" "),t.compactMode?e("DueDate",{attrs:{card:t.card}}):t._e(),t._v(" "),t.showMenuAtTitle?e("CardMenu",{staticClass:"right card-menu",attrs:{card:t.card},on:{"edit-title":t.triggerEditTitle}}):t._e()],1),t._v(" "),t.hasLabels?e("div",{staticClass:"card-labels"},[t.card.labels&&t.card.labels.length?e("transition-group",{staticClass:"labels",attrs:{name:"zoom",tag:"ul"},on:{click:function(e){return e.stopPropagation(),t.openCard.apply(null,arguments)}}},t._l(t.labelsSorted,(function(a){return e("li",{key:a?.id??a?.title,style:t.labelStyle(a)},[e("span",{on:{click:function(e){return e.stopPropagation(),t.applyLabelFilter(a)}}},[t._v(t._s(a.title))])])})),0):t._e(),t._v(" "),t.showMenuAtLabels?e("CardMenu",{staticClass:"right",attrs:{card:t.card},on:{"edit-title":t.triggerEditTitle}}):t._e()],1):t._e(),t._v(" "),t.hasBadges?e("div",{directives:[{name:"show",rawName:"v-show",value:!t.compactMode,expression:"!compactMode"}],staticClass:"card-controls compact-item",on:{click:t.openCard}},[e("CardBadges",{attrs:{card:t.card}},[t.showMenuAtBadges?e("CardMenu",{staticClass:"right",attrs:{card:t.card},on:{"edit-title":t.triggerEditTitle}}):t._e()],1)],1):t._e()],1)]):t._e()}),[],!1,null,"39734269",null).exports,_e={name:"Stack",components:{NcActions:n.B6,NcActionButton:n.Ko,CardItem:we,Container:s.Container,Draggable:s.Draggable,NcModal:n.FH,ArchiveIcon:c.A,CardPlusOutline:It.A},directives:{ClickOutside:Bt()},props:{dragging:{type:Boolean,default:!1},stack:{type:Object,default:void 0}},data:()=>({editing:!1,draggingCard:!1,copiedStack:"",newCardTitle:"",showAddCard:!1,stateCardCreating:!1,animate:!1,modalArchivAllCardsShow:!1,stackTransfer:{total:0,current:null}}),computed:{...(0,i.L8)(["canManage","canEdit","isArchived"]),...(0,i.aH)({showArchived:t=>t.showArchived}),cardsByStack(){return this.$store.getters.cardsByStack(this.stack.id).filter((t=>this.showArchived?t.archived:!t.archived))},dragHandleSelector(){return this.canEdit&&!this.showArchived?null:".no-drag"},cardDetailsInModal:{get(){return this.$store.getters.config("cardDetailsInModal")},set(t){this.$store.dispatch("setConfig",{cardDetailsInModal:t})}}},watch:{showAddCard(t){t?this.$nextTick((()=>{this.$refs.newCardInput.focus()})):this.$store.dispatch("toggleShortcutLock",!1)}},mounted(){this.setupAutoscrollOnDrag()},methods:{stopCardCreation(t){return t.stopPropagation(),this.$refs.newCardInput&&this.$refs.newCardInput.parentElement===t.target.parentElement||(this.showAddCard=!1),!1},async onDropCard(t,e){const{addedIndex:a,removedIndex:r,payload:s}=e,i=Object.assign({},s);this.stack.id===t&&(null!==a&&null===r&&(i.stackId=t,i.order=a,console.debug("move card to stack",i.stackId,i.order),await this.$store.dispatch("reorderCard",i)),null!==a&&null!==r&&(i.order=a,console.debug("move card in stack",i.stackId,i.order),await this.$store.dispatch("reorderCard",i)))},payloadForCard(t){return t=>this.cardsByStack[t]},deleteStack(e){this.$store.dispatch("deleteStack",e),(0,Dt._h)(t("deck","List deleted"),(()=>this.$store.dispatch("stackUndoDelete",e)))},setArchivedToAllCardsFromStack(t,e){this.stackTransfer.total=this.cardsByStack.length,this.cardsByStack.forEach(((t,a)=>{this.stackTransfer.current=a,this.$store.dispatch("archiveUnarchiveCard",{...t,archived:e})})),this.modalArchivAllCardsShow=!1},startEditing(t){this.dragging||(this.copiedStack=Object.assign({},t),this.editing=!0)},finishedEdit(t){this.copiedStack.title!==t.title&&this.$store.dispatch("updateStack",this.copiedStack),this.editing=!1},cancelEdit(){this.editing=!1},async clickAddCard(){this.stateCardCreating=!0;try{this.animate=!0;const t=await this.$store.dispatch("addCard",{title:this.newCardTitle,stackId:this.stack.id,boardId:this.stack.boardId});this.newCardTitle="",this.showAddCard=!0,this.$nextTick((()=>{this.$refs.newCardInput.focus(),this.animate=!1,this.$refs.card[this.$refs.card.length-1].scrollIntoView()})),this.cardDetailsInModal||this.$router.push({name:"card",params:{cardId:t.id}})}catch(t){(0,Dt.Qg)("Could not create card: "+t.response.data.message)}finally{this.stateCardCreating=!1}},onCreateCardFocus(){this.$store.dispatch("toggleShortcutLock",!0)},setupAutoscrollOnDrag(){let t;window.addEventListener("mousemove",(e=>{this.draggingCard?(clearInterval(t),t=window.setInterval((()=>(t=>{const e=t.clientX,a=document.querySelector(".board"),r=a.clientWidth-e,s=.15*window.innerWidth;if(r<100){const t=a.scrollLeft+10*(1-r/s);a.scrollTo(t,a.scrollTop)}if(a.scrollLeft>0&&e<s){const t=a.scrollLeft-10*(1-e/s);a.scrollTo(t,a.scrollTop)}})(e)),25)):t&&clearInterval(t)}))}}},Be=_e;var Ie=r(59311),De={};De.styleTagTransform=D(),De.setAttributes=w(),De.insert=k().bind(null,"head"),De.domAPI=b(),De.insertStyleElement=B();f()(Ie.A,De);Ie.A&&Ie.A.locals&&Ie.A.locals;var Se=(0,E.A)(Be,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"stack",attrs:{"data-cy-stack":t.stack.title}},[e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.stopCardCreation,expression:"stopCardCreation"}],staticClass:"stack__header",class:{"stack__header--add":t.showAddCard},attrs:{"aria-label":t.stack.title}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[!t.canManage||t.isArchived?e("h3",{attrs:{tabindex:"0"}},[t._v("\n\t\t\t\t"+t._s(t.stack.title)+"\n\t\t\t")]):t.editing?t.editing?e("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.cancelEdit,expression:"cancelEdit"}],attrs:{"data-cy":"editStackTitleForm"},on:{submit:function(e){return e.preventDefault(),t.finishedEdit(t.stack)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEdit.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.copiedStack.title,expression:"copiedStack.title"},{name:"focus",rawName:"v-focus"}],attrs:{dir:"auto",type:"text",required:"required"},domProps:{value:t.copiedStack.title},on:{input:function(e){e.target.composing||t.$set(t.copiedStack,"title",e.target.value)}}}),t._v(" "),e("input",{staticClass:"icon-confirm",attrs:{title:"t('deck', 'Edit list title')",type:"submit",value:""}})]):t._e():e("h3",{staticClass:"stack__title",attrs:{title:"stack.title",dir:"auto",tabindex:"0","aria-label":t.stack.title},on:{click:function(e){return t.startEditing(t.stack)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.startEditing(t.stack)}}},[t._v("\n\t\t\t\t"+t._s(t.stack.title)+"\n\t\t\t")])]),t._v(" "),t.canManage&&!t.isArchived?e("NcActions",{attrs:{"force-menu":!0}},[t.showArchived?t._e():e("NcActionButton",{attrs:{icon:"icon-archive"},on:{click:function(e){t.modalArchivAllCardsShow=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArchiveIcon",{attrs:{decorative:""}})]},proxy:!0}],null,!1,2570557878)},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Archive all cards"))+"\n\t\t\t")]),t._v(" "),t.showArchived?e("NcActionButton",{on:{click:function(e){t.modalArchivAllCardsShow=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArchiveIcon",{attrs:{decorative:""}})]},proxy:!0}],null,!1,2570557878)},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Unarchive all cards"))+"\n\t\t\t")]):t._e(),t._v(" "),e("NcActionButton",{attrs:{icon:"icon-delete"},on:{click:function(e){return t.deleteStack(t.stack)}}},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Delete list"))+"\n\t\t\t")])],1):t._e(),t._v(" "),!t.canEdit||t.showArchived||t.isArchived?t._e():e("NcActions",[e("NcActionButton",{attrs:{"data-cy":"action:add-card"},on:{click:function(e){e.stopPropagation(),t.showAddCard=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CardPlusOutline",{attrs:{size:20}})]},proxy:!0}],null,!1,487288838)},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Add card"))+"\n\t\t\t\t")])],1)],1),t._v(" "),t.modalArchivAllCardsShow?e("NcModal",{on:{close:function(e){t.modalArchivAllCardsShow=!1}}},[e("div",{staticClass:"modal__content"},[t.showArchived?e("h3",[t._v("\n\t\t\t\t"+t._s(t.t("deck","Unarchive all cards in this list"))+"\n\t\t\t")]):e("h3",[t._v("\n\t\t\t\t"+t._s(t.t("deck","Archive all cards in this list"))+"\n\t\t\t")]),t._v(" "),e("progress",{attrs:{max:t.stackTransfer.total},domProps:{value:t.stackTransfer.current}}),t._v(" "),t.showArchived?e("button",{staticClass:"primary",on:{click:function(e){return t.setArchivedToAllCardsFromStack(t.stack,!t.showArchived)}}},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Unarchive all cards"))+"\n\t\t\t")]):e("button",{staticClass:"primary",on:{click:function(e){return t.setArchivedToAllCardsFromStack(t.stack,!t.showArchived)}}},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Archive all cards"))+"\n\t\t\t")]),t._v(" "),e("button",{on:{click:function(e){t.modalArchivAllCardsShow=!1}}},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Cancel"))+"\n\t\t\t")])])]):t._e(),t._v(" "),e("Container",{attrs:{"get-child-payload":t.payloadForCard(t.stack.id),"group-name":"stack","data-click-closes-sidebar":"true","non-drag-area-selector":".dragDisabled","drag-handle-selector":t.dragHandleSelector,"data-dragscroll-enabled":""},on:{"should-accept-drop":t.canEdit,"drag-start":function(e){t.draggingCard=!0},"drag-end":function(e){t.draggingCard=!1},drop:e=>t.onDropCard(t.stack.id,e)}},t._l(t.cardsByStack,(function(a){return e("Draggable",{key:a.id},[e("transition",{attrs:{appear:t.animate&&!a.animated&&(a.animated=!0),"appear-class":"zoom-appear-class","appear-active-class":"zoom-appear-active-class"}},[e("CardItem",{ref:"card",refInFor:!0,attrs:{id:a.id,dragging:t.draggingCard}})],1)],1)})),1),t._v(" "),e("transition",{attrs:{name:"slide-bottom",appear:""}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddCard,expression:"showAddCard"}],staticClass:"stack__card-add"},[e("form",{class:{"icon-loading-small":t.stateCardCreating},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.clickAddCard()}}},[e("label",{staticClass:"hidden-visually",attrs:{for:"new-stack-input-main"}},[t._v(t._s(t.t("deck","Add a new card")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newCardTitle,expression:"newCardTitle"}],ref:"newCardInput",staticClass:"no-close",attrs:{id:"new-stack-input-main",type:"text",disabled:t.stateCardCreating,placeholder:t.t("deck","Card name"),required:"",pattern:".*\\S+.*"},domProps:{value:t.newCardTitle},on:{focus:t.onCreateCardFocus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.stopCardCreation.apply(null,arguments)},input:function(e){e.target.composing||(t.newCardTitle=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"show",rawName:"v-show",value:!t.stateCardCreating,expression:"!stateCardCreating"}],staticClass:"icon-confirm",attrs:{type:"submit",value:""}})])])])],1)}),[],!1,null,"5851d20e",null);const Te=Se.exports;var Ee=r(32252),je=r.n(Ee);const Le={name:"Placeholder",data:()=>({light:null,dark:null,standalone:!0}),mounted(){const t=getComputedStyle(document.documentElement);this.dark=t.getPropertyValue("--color-placeholder-dark"),this.light=t.getPropertyValue("--color-placeholder-light")},methods:{randWidth:()=>Math.floor(20*Math.random())+40}};var Ne=r(79724),$e={};$e.styleTagTransform=D(),$e.setAttributes=w(),$e.insert=k().bind(null,"head"),$e.domAPI=b(),$e.insertStyleElement=B();f()(Ne.A,$e);Ne.A&&Ne.A.locals&&Ne.A.locals;const Fe=(0,E.A)(Le,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card--placeholder"},[e("svg",{staticClass:"card-placeholder__gradient"},[e("defs",[e("linearGradient",{attrs:{id:"card-placeholder__gradient"}},[e("stop",{attrs:{offset:"0%","stop-color":t.light}},[e("animate",{attrs:{attributeName:"stop-color",values:`${t.light}; ${t.light}; ${t.dark}; ${t.dark}; ${t.light}`,dur:"2s",repeatCount:"indefinite"}})]),t._v(" "),e("stop",{attrs:{offset:"100%","stop-color":t.dark}},[e("animate",{attrs:{attributeName:"stop-color",values:`${t.dark}; ${t.light}; ${t.light}; ${t.dark}; ${t.dark}`,dur:"2s",repeatCount:"indefinite"}})])],1)],1)]),t._v(" "),e("svg",{staticClass:"card-placeholder__placeholder",class:{standalone:t.standalone},attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"url(#card-placeholder__gradient)"}},[e("rect",{staticClass:"card-placeholder__placeholder-line-header",style:{width:`calc(${t.randWidth()}%)`}}),t._v(" "),e("rect",{staticClass:"card-placeholder__placeholder-line-one"}),t._v(" "),e("rect",{staticClass:"card-placeholder__placeholder-line-two",style:{width:`calc(${t.randWidth()}%)`}})])])}),[],!1,null,"2ec8f4d4",null).exports;function Pe(t){let{query:e,cursor:a}=t;const r=N.Ay.CancelToken.source();return{request:async()=>N.Ay.get((0,$.KT)("apps/deck/api/v1.0/search"),{cancelToken:r.token,params:{term:e,limit:20,cursor:a}}),cancel:r.cancel}}const Me={name:"GlobalSearchResults",components:{CardItem:we,InfiniteLoading:je(),NcRichText:n.z4,Placeholder:Fe,NcActions:n.B6,NcActionButton:n.Ko},data:()=>({results:[],cancel:null,loading:!1,cursor:null}),computed:{...(0,i.aH)({searchQuery:t=>t.searchQuery}),filteredResults(){const t=(t,e)=>t.archived-e.archived||e.lastModified-t.lastModified;return this.$route.params.id?this.results.filter((t=>t.relatedBoard.id.toString()!==this.$route.params.id.toString())).sort(t):[...this.results].sort(t)},queryStringArgs(){return{searchQuery:this.searchQuery}}},watch:{async searchQuery(){this.cursor=null,this.loading=!0;try{await this.search(),this.loading=!1}catch(t){N.Ay.isCancel(t)||(console.error("Search request failed",t),this.loading=!1)}}},methods:{async infiniteHandler(t){this.loading=!0;try{(await this.search()).length?t.loaded():t.complete(),this.loading=!1}catch(e){N.Ay.isCancel(e)||(console.error("Search request failed",e),t.complete(),this.loading=!1)}},async search(){this.cancel&&this.cancel();const{request:t,cancel:e}=await Pe({query:this.searchQuery,cursor:this.cursor});this.cancel=e;const{data:a}=await t();return null===this.cursor&&(this.results=[]),a.ocs.data.length>0&&(a.ocs.data.forEach((t=>{this.$store.dispatch("addCardData",t)})),this.results=[...this.results,...a.ocs.data],this.cursor=a.ocs.data[a.ocs.data.length-1].lastModified),a.ocs.data}}},Ge=Me;var Ue=r(77337),ze={};ze.styleTagTransform=D(),ze.setAttributes=w(),ze.insert=k().bind(null,"head"),ze.domAPI=b(),ze.insertStyleElement=B();f()(Ue.A,ze);Ue.A&&Ue.A.locals&&Ue.A.locals;var Oe=(0,E.A)(Ge,(function(){var t=this,e=t._self._c;return""!==t.searchQuery?e("div",{staticClass:"global-search"},[e("h2",[e("NcRichText",{attrs:{text:t.t("deck","Search for {searchQuery} in all boards"),arguments:t.queryStringArgs}}),t._v(" "),t.loading?e("div",{staticClass:"icon-loading-small"}):t._e()],1),t._v(" "),e("NcActions",[e("NcActionButton",{attrs:{icon:"icon-close"},on:{click:function(e){return t.$store.commit("setSearchQuery","")}}})],1),t._v(" "),e("div",{staticClass:"search-wrapper"},[t.loading||t.filteredResults.length>0?e("div",{staticClass:"search-results"},[t._l(t.filteredResults,(function(t){return e("CardItem",{key:t.id,attrs:{id:t.id,standalone:!0}})})),t._v(" "),t.loading?e("Placeholder"):t._e(),t._v(" "),e("InfiniteLoading",{attrs:{identifier:t.searchQuery},on:{infinite:t.infiniteHandler}},[e("div",{attrs:{slot:"spinner"},slot:"spinner"}),t._v(" "),e("div",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),e("div",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("\n\t\t\t\t\t"+t._s(t.t("deck","No results found"))+"\n\t\t\t\t")])])],2):e("div",[e("p",[t._v(t._s(t.t("deck","No results found")))])])])],1):t._e()}),[],!1,null,"7711a4ae",null);const We=Oe.exports;var Re=r(65644),He=r(64508),qe=r(87485),Ye=r(53334),Ke=r(80073),Qe=r(53740),Xe=r(88749),Ve=r(23150),Je=r(2543);const Ze={name:"CardSidebarTabDetails",components:{DueDateSelector:Ve.A,AssignmentSelector:Xe.A,TagSelector:Qe.A,Description:Ke.A,NcCollectionList:n.ex},mixins:[ae.A],props:{card:{type:Object,default:null}},data:()=>({addedLabelToCard:null,copiedCard:null,locale:(0,Ye.JK)(),projectsEnabled:(0,P.C)("core","projects_enabled",!1)}),computed:{...(0,i.aH)({currentBoard:t=>t.currentBoard}),...(0,i.L8)(["canEdit","assignables"]),cardDetailsInModal:{get(){return this.$store.getters.config("cardDetailsInModal")},set(t){this.$store.dispatch("setConfig",{cardDetailsInModal:t})}},labelsSorted(){return[...this.currentBoard.labels].sort(((t,e)=>t.title<e.title?-1:1))}},watch:{card(){this.initialize()}},mounted(){this.initialize()},methods:{async descriptionChanged(t){t!==this.copiedCard.description&&(this.copiedCard.description=t)},async initialize(){this.card&&(this.copiedCard=JSON.parse(JSON.stringify(this.card)),localStorage.setItem("deck.selectedBoardId",this.currentBoard.id),localStorage.setItem("deck.selectedStackId",this.card.stackId))},assignUserToCard(t){this.$store.dispatch("assignCardToUser",{card:this.copiedCard,assignee:{userId:t.uid,type:t.type}})},removeUserFromCard(t){this.$store.dispatch("removeUserFromCard",{card:this.copiedCard,assignee:{userId:t.uid,type:t.type}})},updateCardDue(t){this.$store.dispatch("updateCardDue",{...this.copiedCard,duedate:t?new Date(t).toISOString():null})},debouncedUpdateCardDue:(0,Je.debounce)((function(t){this.updateCardDue(t)}),500),addLabelToCard(t){this.copiedCard.labels.push(t);const e={card:this.copiedCard,labelId:t.id};this.$store.dispatch("addLabel",e)},async addLabelToBoardAndCard(t){await this.$store.dispatch("addLabelToCurrentBoardAndCard",{card:this.copiedCard,newLabel:{title:t,color:this.randomColor()}})},removeLabelFromCard(t){const e=this.copiedCard.labels.findIndex((e=>e.id===t.id));-1!==e&&this.copiedCard.labels.splice(e,1);const a={card:this.copiedCard,labelId:t.id};this.$store.dispatch("removeLabel",a)},stringify(t){return(0,Gt.A)(t).locale(this.locale).format("LLL")},parse:t=>(0,Gt.A)(t).toDate()}};var ta=r(9845),ea={};ea.styleTagTransform=D(),ea.setAttributes=w(),ea.insert=k().bind(null,"head"),ea.domAPI=b(),ea.insertStyleElement=B();f()(ta.A,ea);ta.A&&ta.A.locals&&ta.A.locals;const aa=(0,E.A)(Ze,(function(){var t=this,e=t._self._c;return t.copiedCard?e("div",[e("TagSelector",{attrs:{card:t.card,labels:t.currentBoard.labels,disabled:!t.canEdit},on:{select:t.addLabelToCard,remove:t.removeLabelFromCard,newtag:t.addLabelToBoardAndCard}}),t._v(" "),e("AssignmentSelector",{attrs:{card:t.card,assignables:t.assignables,"can-edit":t.canEdit},on:{select:t.assignUserToCard,remove:t.removeUserFromCard}}),t._v(" "),e("DueDateSelector",{attrs:{card:t.card,"can-edit":t.canEdit},on:{change:t.updateCardDue,input:t.debouncedUpdateCardDue}}),t._v(" "),t.projectsEnabled?e("div",{staticClass:"section-wrapper"},[t.card.id?e("NcCollectionList",{attrs:{id:`${t.card.id}`,name:t.card.title,type:"deck-card"}}):t._e()],1):t._e(),t._v(" "),e("Description",{key:t.card.id,attrs:{card:t.card,"can-edit":t.canEdit,"show-attachments":""},on:{change:t.descriptionChanged}})],1):t._e()}),[],!1,null,"1f76018f",null).exports;const ra={name:"CardSidebarTabAttachments",components:{AttachmentList:r(31174).A},props:{card:{type:Object,default:null}},methods:{deleteAttachment(t){this.$store.dispatch("deleteAttachment",t)},restoreAttachment(t){this.$store.dispatch("restoreAttachment",t)}}},sa=ra;const ia=(0,E.A)(sa,(function(){var t=this;return(0,t._self._c)("AttachmentList",{attrs:{"card-id":t.card.id,removable:!0},on:{"delete-attachment":t.deleteAttachment,"restore-attachment":t.restoreAttachment}})}),[],!1,null,null,null).exports;var da=r(11452);const na={name:"CommentForm",components:{At:r.n(da)(),NcAvatar:n.Bx,NcUserBubble:n.Z9},props:{value:{type:String,default:""}},data(){return{commentText:this.value,error:null}},computed:{...(0,i.aH)({currentBoard:t=>t.currentBoard}),members(){return this.currentBoard.users}},watch:{value(t){this.commentText=t}},methods:{validate(e){this.error=null;const a=this.contentEditableToParsed();return e&&0===a.length&&(this.error=t("deck","The comment cannot be empty.")),a.length>1e3&&(this.error=t("deck","The comment cannot be longer than 1000 characters.")),null===this.error?a:null},submit(){const t=this.validate(!0);if(t){const e=document.createElement("div");e.innerHTML=t;const a=e.textContent||e.innerText||"";this.$emit("input",a),this.$emit("submit",a)}},contentEditableToParsed(){if(!this.$refs.contentEditable)return;const t=this.$refs.contentEditable.cloneNode(!0);return t.querySelectorAll("span[data-at-embedded]").forEach((t=>{const e=t.firstElementChild.attributes["data-mention-id"].value;-1!==e.indexOf(" ")?t.replaceWith(' @"'+e+'" '):t.replaceWith(" @"+e+" ")})),(t=>{t=(t=t.replace(/<br>/g,"\n")).replace(/&nbsp;/g," ");const e=document.createElement("textarea");return e.innerHTML=t,(t=e.value).trim()})(t.innerHTML)},handleKeydown(t){this.atwho||t.shiftKey||(t.preventDefault(),this.submit())},onPaste(t){t.preventDefault();const e=t.clipboardData.getData("text/plain");document.execCommand("insertText",!1,e)}}};var oa=r(93219),ca={};ca.styleTagTransform=D(),ca.setAttributes=w(),ca.insert=k().bind(null,"head"),ca.domAPI=b(),ca.insertStyleElement=B();f()(oa.A,ca);oa.A&&oa.A.locals&&oa.A.locals;const Aa=(0,E.A)(na,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-form"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("At",{ref:"at",attrs:{members:t.members,"name-key":"displayname","tab-select":!0},scopedSlots:t._u([{key:"item",fn:function(a){return[e("NcAvatar",{staticClass:"atwho-li--avatar",attrs:{user:a.item.uid,size:24}}),t._v(" "),e("span",{staticClass:"atwho-li--name",domProps:{textContent:t._s(a.item.displayname)}})]}},{key:"embeddedItem",fn:function(a){return[e("span",[a.current.uid?e("NcUserBubble",{attrs:{"data-mention-id":a.current.uid,user:a.current.uid,"display-name":a.current.displayname}}):t._e()],1)]}}]),model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}},[t._v(" "),t._v(" "),e("div",{ref:"contentEditable",staticClass:"comment-form__contenteditable",attrs:{dir:"auto",contenteditable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeydown.apply(null,arguments)},paste:t.onPaste,blur:function(e){t.error=null},input:function(e){return t.validate()}}})]),t._v(" "),e("input",{staticClass:"icon-confirm",attrs:{title:t.t("deck","Save"),type:"submit",value:"",disabled:null===t.commentText.length||t.error}}),t._v(" "),t._t("default")],2),t._v(" "),t.error?e("p",[t._v("\n\t\t"+t._s(t.error)+"\n\t")]):t._e()])}),[],!1,null,"f4e3639e",null).exports;var la=r(18922),Ca=r.n(la),ua=r(25682),pa=r(47398);const ma={name:"AtMention",functional:!0,render(t,e){const{user:a,displayName:r}=e.props;return t("span",{attrs:{"data-at-embedded":!0,contenteditable:!1}},[t(n.Z9,{props:{user:a,displayName:r},attrs:{"data-mention-id":a}})])}},ha={name:"CommentItem",components:{NcAvatar:n.Bx,NcUserBubble:n.Z9,NcActions:n.B6,NcActionButton:n.Ko,CommentForm:Aa,NcRichText:n.z4,ReplyIcon:pa.A},mixins:[ua.A],props:{comment:{type:Object,default:void 0},reply:{type:Boolean,default:!1},preview:{type:Boolean,default:!1}},data:()=>({edit:!1,commentMsg:""}),computed:{canEdit(){return this.comment.actorId===(0,ht.HW)().uid},richText(){return t=>{let e=this.parsedMessage(t.message);return t.mentions.forEach(((t,a)=>{const r=Ca()(t.mentionId);e=e.split("@"+t.mentionId).join(`{user-${r}}`),e=e.split('@"'+t.mentionId+'"').join(`{user-${r}}`)})),e}},richArgs:()=>t=>[...t.mentions].reduce(((t,e,a)=>(t["user-"+Ca()(e.mentionId)]={component:ma,props:{user:e.mentionId,displayName:e.mentionDisplayName}},t)),{}),parsedMessage:()=>t=>{const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},formattedTimestamp(){return t("deck","Created:")+" "+Y()(this.comment.creationDateTime).format("LLLL")}},methods:{replyTo(){this.$store.dispatch("setReplyTo",this.comment)},showUpdateForm(){this.edit=!0,this.$nextTick((()=>{this.commentMsg=this.$refs.richTextElement.children[0].innerHTML}))},hideUpdateForm(){this.commentMsg="",this.edit=!1},async updateComment(){const t={comment:this.commentMsg,cardId:this.comment.objectId,id:this.comment.id};await this.$store.dispatch("updateComment",t),this.hideUpdateForm()},deleteComment(){const t={id:this.comment.id,cardId:this.comment.objectId};this.$store.dispatch("deleteComment",t)}}},va=ha;var fa=r(54349),ga={};ga.styleTagTransform=D(),ga.setAttributes=w(),ga.insert=k().bind(null,"head"),ga.domAPI=b(),ga.insertStyleElement=B();f()(fa.A,ga);fa.A&&fa.A.locals&&fa.A.locals;const ba=(0,E.A)(va,(function(){var t=this,e=t._self._c;return t.reply?e("div",{staticClass:"reply",class:{"reply--preview":t.preview}},[e("div",{staticClass:"reply--wrapper"},[e("div",{staticClass:"reply--header"},[e("div",{staticClass:"reply--hint"},[t._v("\n\t\t\t\t"+t._s(t.t("deck","In reply to"))+"\n\t\t\t\t"),e("NcUserBubble",{attrs:{user:t.comment.actorId,"display-name":t.comment.actorDisplayName}})],1),t._v(" "),t.preview?e("NcActions",{staticClass:"reply--cancel"},[e("NcActionButton",{attrs:{icon:"icon-close"},on:{click:function(e){return t.$emit("cancel")}}},[t._v("\n\t\t\t\t\t"+t._s(t.t("deck","Cancel reply"))+"\n\t\t\t\t")])],1):t._e()],1),t._v(" "),e("NcRichText",{staticClass:"comment--content",attrs:{dir:"auto","use-markdown":"",text:t.richText(t.comment),arguments:t.richArgs(t.comment),autolink:!0}})],1)]):e("li",{staticClass:"comment"},[e("div",{staticClass:"comment--header"},[e("NcAvatar",{attrs:{user:t.comment.actorId}}),t._v(" "),e("span",{staticClass:"username"},[t._v("\n\t\t\t"+t._s(t.comment.actorDisplayName)+"\n\t\t")]),t._v(" "),e("NcActions",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],attrs:{"force-menu":!0}},[e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.replyTo()}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ReplyIcon",{attrs:{decorative:""}})]},proxy:!0}])},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Reply"))+"\n\t\t\t")]),t._v(" "),t.canEdit?e("NcActionButton",{attrs:{icon:"icon-rename","close-after-click":!0},on:{click:function(e){return t.showUpdateForm()}}},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Update"))+"\n\t\t\t")]):t._e(),t._v(" "),t.canEdit?e("NcActionButton",{attrs:{icon:"icon-delete","close-after-click":!0},on:{click:function(e){return t.deleteComment()}}},[t._v("\n\t\t\t\t"+t._s(t.t("deck","Delete"))+"\n\t\t\t")]):t._e()],1),t._v(" "),t.edit?e("NcActions",[e("NcActionButton",{attrs:{icon:"icon-close"},on:{click:t.hideUpdateForm}})],1):t._e(),t._v(" "),e("div",{staticClass:"spacer"}),t._v(" "),e("div",{staticClass:"timestamp",attrs:{"aria-label":t.formattedTimestamp,title:t.formattedTimestamp}},[t._v("\n\t\t\t"+t._s(t.relativeDate(t.comment.creationDateTime))+"\n\t\t")])],1),t._v(" "),t.comment.replyTo?e("CommentItem",{attrs:{reply:!0,comment:t.comment.replyTo}}):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],ref:"richTextElement"},[e("NcRichText",{staticClass:"comment--content",attrs:{dir:"auto","use-markdown":"",text:t.richText(t.comment),arguments:t.richArgs(t.comment),autolink:!0}})],1),t._v(" "),t.edit?e("CommentForm",{attrs:{dir:"auto"},on:{submit:t.updateComment},model:{value:t.commentMsg,callback:function(e){t.commentMsg=e},expression:"commentMsg"}}):t._e()],1)}),[],!1,null,"eee7a722",null).exports,ya={name:"CardSidebarTabComments",components:{NcAvatar:n.Bx,CommentItem:ba,CommentForm:Aa,InfiniteLoading:je()},props:{card:{type:Object,default:void 0},tabQuery:{type:String,required:!1,default:null}},data:()=>({newComment:"",isLoading:!1,currentUser:(0,ht.HW)(),error:null}),computed:{...(0,i.aH)({currentBoard:t=>t.currentBoard,replyTo:t=>t.comment.replyTo}),...(0,i.L8)(["getCommentsForCard","hasMoreComments"]),members(){return this.currentBoard.users}},watch:{card:{immediate:!0,handler(){this.loadComments()}}},methods:{async infiniteHandler(e){this.error=null;try{await this.loadMore(),this.hasMoreComments(this.card.id)?e.loaded():e.complete()}catch(a){console.error("Failed to fetch more comments during infinite loading",a),this.error=t("deck","Failed to load comments"),e.complete()}},async loadComments(){this.$store.dispatch("setReplyTo",null),this.error=null,this.isLoading=!0;try{await this.$store.dispatch("fetchComments",{cardId:this.card.id}),this.isLoading=!1,this.card.commentsUnread>0&&await this.$store.dispatch("markCommentsAsRead",this.card.id)}catch(e){this.isLoading=!1,console.error("Failed to fetch more comments during infinite loading",e),this.error=t("deck","Failed to load comments")}},async createComment(t){const e={cardId:this.card.id,comment:t};await this.$store.dispatch("createComment",e),this.$store.dispatch("setReplyTo",null),this.newComment="",await this.loadComments()},async loadMore(){this.isLoading=!0,await this.$store.dispatch("fetchMore",{cardId:this.card.id}),this.isLoading=!1},cancelReply(){this.$store.dispatch("setReplyTo",null)}}};var ka=r(73490),xa={};xa.styleTagTransform=D(),xa.setAttributes=w(),xa.insert=k().bind(null,"head"),xa.domAPI=b(),xa.insertStyleElement=B();f()(ka.A,xa);ka.A&&ka.A.locals&&ka.A.locals;var wa=(0,E.A)(ya,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"comment--header"},[e("NcAvatar",{attrs:{user:t.currentUser.uid}}),t._v(" "),e("span",{staticClass:"username"},[t._v("\n\t\t\t"+t._s(t.currentUser.displayName)+"\n\t\t")])],1),t._v(" "),t.replyTo?e("CommentItem",{attrs:{comment:t.replyTo,reply:!0,preview:!0},on:{cancel:t.cancelReply}}):t._e(),t._v(" "),e("CommentForm",{on:{submit:t.createComment},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}}),t._v(" "),t.getCommentsForCard(t.card.id).length>0?e("ul",{attrs:{id:"commentsFeed"}},[t._l(t.getCommentsForCard(t.card.id),(function(a){return e("CommentItem",{key:a.id,attrs:{comment:a},on:{doReload:t.loadComments}})})),t._v(" "),e("InfiniteLoading",{attrs:{identifier:t.card.id},on:{infinite:t.infiniteHandler}},[e("div",{staticClass:"icon-loading",attrs:{slot:"spinner"},slot:"spinner"}),t._v(" "),e("div",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),e("div",{attrs:{slot:"no-results"},slot:"no-results"})])],2):t.isLoading?e("div",{staticClass:"icon icon-loading"}):e("div",{staticClass:"emptycontent"},[e("div",{class:{"icon-comment":!t.error,"icon-error":t.error}}),t._v(" "),e("p",[t._v(t._s(t.error||t.t("deck","No comments yet. Begin the discussion!")))])])],1)}),[],!1,null,"cd53af20",null);const _a=wa.exports;var Ba=r(99418),Ia=r(47586);const Da={name:"InternalLink",functional:!0,props:{href:{type:String,default:""},name:{type:String,default:""}},render:(t,e)=>t("a",{attrs:{href:e.props.href},style:{"font-weight":600}},e.props.name)},Sa={name:"ActivityEntry",components:{NcRichText:n.z4},mixins:[ua.A,Ia.A],props:{activity:{type:Object,default:null}},computed:{message(){const t=this.activity.subject_rich[0],e=JSON.parse(JSON.stringify(this.activity.subject_rich[1]));if(e.after&&"string"==typeof e.after.id&&e.after.id.startsWith("dt:")){const t=e.after.id.slice(3);e.after.name=(0,Gt.A)(t).format("L LTS")}return Object.keys(e).forEach((function(t,a){const{type:r}=e[t];switch(r){case"highlight":e[t]={component:Da,props:{href:e[t].link,name:e[t].name}};break;case"user":e[t]={component:n.Z9,props:{user:e[t].id,displayName:e[t].name}};break;default:e[t]=`{${t}}`}})),{subject:t,parameters:e}},sanitizedMessage(){return Ba.A.sanitize(this.activity.message,{ALLOWED_TAGS:["ins","del"],ALLOWED_ATTR:["class"]})}}};var Ta=r(74403),Ea={};Ea.styleTagTransform=D(),Ea.setAttributes=w(),Ea.insert=k().bind(null,"head"),Ea.domAPI=b(),Ea.insertStyleElement=B();f()(Ta.A,Ea);Ta.A&&Ta.A.locals&&Ta.A.locals;var ja=r(94420),La={};La.styleTagTransform=D(),La.setAttributes=w(),La.insert=k().bind(null,"head"),La.domAPI=b(),La.insertStyleElement=B();f()(ja.A,La);ja.A&&ja.A.locals&&ja.A.locals;const Na=(0,E.A)(Sa,(function(){var t=this,e=t._self._c;return t.activity?e("div",{staticClass:"activity"},[e("div",{staticClass:"activity--header"},[e("img",{staticClass:"activity--icon",attrs:{src:t.activity.icon}}),t._v(" "),e("NcRichText",{staticClass:"activity--subject",attrs:{text:t.message.subject,arguments:t.message.parameters}}),t._v(" "),e("div",{staticClass:"activity--timestamp",attrs:{name:t.formatReadableDate(t.activity.datetime)}},[t._v("\n\t\t\t"+t._s(t.relativeDate(t.activity.datetime))+"\n\t\t")])],1),t._v(" "),t.activity.message?e("p",{staticClass:"activity--message",domProps:{innerHTML:t._s(t.sanitizedMessage)}}):t._e()]):t._e()}),[],!1,null,"4ec0d815",null).exports,$a={name:"ActivityList",components:{ActivityEntry:Na,InfiniteLoading:je()},props:{filter:{type:String,default:"deck"},type:{type:String,required:!0},objectId:{type:Number,required:!0},objectType:{type:String,required:!0}},data:()=>({activities:[],isLoading:!1,since:0,endReached:!1}),methods:{async loadActivity(){const t=new URLSearchParams;t.append("format","json"),t.append("type",this.type),t.append("since",this.since),t.append("object_type",this.objectType),t.append("object_id",""+this.objectId),t.append("limit",50);const e=await N.Ay.get((0,$.KT)(`apps/activity/api/v2/activity/${this.filter}`)+"?"+t,{validateStatus:t=>t>=200&&t<300||304===t});if(304===e.status)return this.endReached=!0,[];let a=e.data.ocs.data;return"deck"===this.filter&&(a=a.filter((t=>"deck_board"===t.object_type&&t.object_id===this.objectId||"deck_card"===t.object_type&&t.subject_rich[1].board.id===this.objectId))),this.activities.push(...a),0===a.length?(this.endReached=!0,[]):(this.since=a[a.length-1].activity_id,a)},async infiniteHandler(t){await this.loadActivity(),this.endReached?t.complete():t.loaded()},changeObject(){this.since=0,this.activities=[],this.endReached=!1}}};var Fa=r(55767),Pa={};Pa.styleTagTransform=D(),Pa.setAttributes=w(),Pa.insert=k().bind(null,"head"),Pa.domAPI=b(),Pa.insertStyleElement=B();f()(Fa.A,Pa);Fa.A&&Fa.A.locals&&Fa.A.locals;const Ma={name:"CardSidebarTabActivity",components:{ActivityList:(0,E.A)($a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-list"},[t.isLoading?e("div",{staticClass:"icon icon-loading"}):t._e(),t._v(" "),t._l(t.activities,(function(t){return e("ActivityEntry",{key:t.activity_id,attrs:{activity:t}})})),t._v(" "),e("InfiniteLoading",{attrs:{identifier:t.objectId},on:{infinite:t.infiniteHandler,change:t.changeObject}},[e("div",{staticClass:"icon-loading",attrs:{slot:"spinner"},slot:"spinner"}),t._v(" "),e("div",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),e("div",{attrs:{slot:"no-results"},slot:"no-results"})])],2)}),[],!1,null,"54d90076",null).exports},props:{card:{type:Object,default:null}},data:()=>({id:"activity"})};const Ga=(0,E.A)(Ma,(function(){var t=this,e=t._self._c;return t.$parent.isActive?e("ActivityList",{key:t.card.id,attrs:{filter:"filter","object-id":t.card.id,"object-type":"deck_card",type:"deck"}}):t._e()}),[],!1,null,null,null).exports;var Ua=r(73039),za=r(49049);const Oa=(0,qe.F)(),Wa={name:"CardSidebar",components:{NcAppSidebar:n.Jx,NcAppSidebarTab:n.Gl,NcActionButton:n.Ko,NcReferenceList:He.j0,CardSidebarTabAttachments:ia,CardSidebarTabComments:_a,CardSidebarTabActivity:Ga,CardSidebarTabDetails:aa,ActivityIcon:za.A,AttachmentIcon:$t.A,CommentIcon:Pt.A,HomeIcon:Ua.A,CardMenuEntries:oe},mixins:[ua.A],props:{id:{type:Number,required:!0},tabId:{type:String,required:!1,default:null},tabQuery:{type:String,required:!1,default:null}},data:()=>({isEditingTitle:!1,titleEditing:"",hasActivity:Oa&&Oa.activity,locale:(0,Ye.JK)()}),computed:{...(0,i.aH)({isFullApp:t=>t.isFullApp,currentBoard:t=>t.currentBoard}),...(0,i.L8)(["canEdit","assignables","cardActions","stackById"]),currentCard(){return this.$store.getters.cardById(this.id)},subtitle(){return t("deck","Modified")+": "+this.relativeDate(1e3*this.currentCard.lastModified)+" ⸱ "+t("deck","Created")+": "+this.relativeDate(1e3*this.currentCard.createdAt)},subtitleTooltip(){return t("deck","Modified")+": "+this.formatDate(this.currentCard.lastModified)+"\n"+t("deck","Created")+": "+this.formatDate(this.currentCard.createdAt)},cardDetailsInModal:{get(){return this.$store.getters.config("cardDetailsInModal")},set(t){this.$store.dispatch("setConfig",{cardDetailsInModal:t})}},displayTitle:{get(){if(this.isEditingTitle)return this.titleEditing;const t=this.currentCard.referenceData;return t?t.openGraphObject.name:this.currentCard.title}}},watch:{currentCard(){this.focusHeader()},"currentCard.title":{immediate:!0,handler(t){this.titleEditing=t}}},methods:{focusHeader(){this.$nextTick((()=>{this.$refs?.cardSidebar.$el.querySelector(".app-sidebar-header__mainname")?.focus()}))},handleSubmitTitle(){""!==this.titleEditing.trim()?(this.isEditingTitle=!1,this.$store.dispatch("updateCardTitle",{...this.currentCard,title:this.titleEditing})):(0,Dt.Qg)(t("deck","The title cannot be empty."))},closeSidebar(){this.$router?.push({name:"board"}),this.$emit("close")},showModal(){this.$store.dispatch("setConfig",{cardDetailsInModal:!0})},closeModal(){this.$store.dispatch("setConfig",{cardDetailsInModal:!1})},formatDate(t){return Gt.A.unix(t).locale(this.locale).format("LLLL")}}};var Ra=r(41007),Ha={};Ha.styleTagTransform=D(),Ha.setAttributes=w(),Ha.insert=k().bind(null,"head"),Ha.domAPI=b(),Ha.insertStyleElement=B();f()(Ra.A,Ha);Ra.A&&Ra.A.locals&&Ra.A.locals;const qa=(0,E.A)(Wa,(function(){var t=this,e=t._self._c;return t.currentBoard&&t.currentCard?e("NcAppSidebar",{ref:"cardSidebar",attrs:{active:t.tabId,name:t.displayTitle,subname:t.subtitle,subtitle:t.subtitleTooltip,"name-editable":t.isEditingTitle},on:{"update:nameEditable":function(e){t.isEditingTitle=e},"update:name-editable":function(e){t.isEditingTitle=e},"update:name":e=>t.titleEditing=e,"dismiss-editing":function(e){t.titleEditing=t.currentCard.title},"submit-name":t.handleSubmitTitle,opened:t.focusHeader,close:t.closeSidebar},scopedSlots:t._u([{key:"secondary-actions",fn:function(){return[t.cardDetailsInModal&&t.isFullApp?e("NcActionButton",{attrs:{icon:"icon-menu-sidebar"},on:{click:function(e){return e.stopPropagation(),t.closeModal()}}},[t._v("\n\t\t\t"+t._s(t.t("deck","Open in sidebar view"))+"\n\t\t")]):t.isFullApp?e("NcActionButton",{attrs:{icon:"icon-external"},on:{click:function(e){return e.stopPropagation(),t.showModal()}}},[t._v("\n\t\t\t"+t._s(t.t("deck","Open in bigger view"))+"\n\t\t")]):t._e(),t._v(" "),e("CardMenuEntries",{attrs:{card:t.currentCard,"hide-details-entry":!0}})]},proxy:!0},{key:"description",fn:function(){return[t.currentCard.referenceData?e("NcReferenceList",{attrs:{text:t.currentCard.title,interactive:!1}}):t._e()]},proxy:!0}],null,!1,4213823266)},[t._v(" "),t._v(" "),e("NcAppSidebarTab",{attrs:{id:"details",order:0,name:t.t("deck","Details")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("HomeIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,1674571436)},[e("CardSidebarTabDetails",{attrs:{card:t.currentCard}})],1),t._v(" "),e("NcAppSidebarTab",{attrs:{id:"attachments",order:1,name:t.t("deck","Attachments")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AttachmentIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,741344954)},[t._v(" "),e("CardSidebarTabAttachments",{attrs:{card:t.currentCard}})],1),t._v(" "),e("NcAppSidebarTab",{attrs:{id:"comments",order:2,name:t.t("deck","Comments")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CommentIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,1715543632)},[t._v(" "),e("CardSidebarTabComments",{attrs:{card:t.currentCard,"tab-query":t.tabQuery}})],1),t._v(" "),t.hasActivity?e("NcAppSidebarTab",{attrs:{id:"timeline",order:3,name:t.t("deck","Activity")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ActivityIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,502128366)},[t._v(" "),e("CardSidebarTabActivity",{attrs:{card:t.currentCard}})],1):t._e()],1):t._e()}),[],!1,null,null,null).exports,Ya={name:"Board",components:{GlobalSearchResults:We,Controls:kt,Container:s.Container,DeckIcon:xt.A,Draggable:s.Draggable,Stack:Te,NcEmptyContent:n.yI,NcModal:n.FH,NcTextField:n.v,NcButton:n.x1,NcLoadingIcon:n.ne,CheckIcon:wt.A,CardSidebar:qa},inject:["boardApi"],props:{id:{type:Number,default:null}},data:()=>({draggingStack:!1,loading:!0,newStackTitle:"",currentScrollPosX:null,currentMousePosX:null,localModal:null}),computed:{...(0,i.aH)({isFullApp:t=>t.isFullApp,board:t=>t.currentBoard,showArchived:t=>t.showArchived}),...(0,i.L8)(["canEdit","canManage"]),stacksByBoard(){return this.board?.id?this.$store.getters.stacksByBoard(this.board.id):[]},dragHandleSelector(){return this.canEdit?".stack__title":".no-drag"},isEmpty(){return 0===this.stacksByBoard.length}},watch:{id(t,e){this.fetchData()},showArchived(){this.fetchData()},isEmpty(t){t&&this.$nextTick((()=>{this.$refs?.newStackInput?.focus()}))}},created(){this.session=pt(this.id),this.fetchData(),this.$root.$on("open-card",(t=>{this.localModal=t}))},beforeDestroy(){this.session.close()},methods:{async fetchData(){this.loading=!0;try{await this.$store.dispatch("loadBoardById",this.id),await this.$store.dispatch("loadStacks",this.id);const t=parseInt(this.$route.params.cardId);t&&!this.$store.getters.cardById(t)&&(await this.$store.dispatch("loadArchivedStacks",this.id),this.$store.getters.cardById(t)&&this.$store.commit("toggleShowArchived",!0)),this.session?.close(),this.session=pt(this.id)}catch(t){this.loading=!1,console.error(t),(0,Re.Q)(t)}finally{this.loading=!1}},onDropStack(t){let{removedIndex:e,addedIndex:a}=t;this.$store.dispatch("orderStack",{stack:this.stacksByBoard[e],removedIndex:e,addedIndex:a})},addNewStack(){const t={title:this.newStackTitle,boardId:this.id};this.$store.dispatch("createStack",t),this.newStackTitle=""},onMouseDown(t){this.startMouseDrag(t)},startMouseDrag(t){"dragscrollEnabled"in t.target.dataset&&(t.preventDefault(),this.currentMousePosX=t.clientX,this.currentScrollPosX=this.$refs.board.scrollLeft,window.addEventListener("mousemove",this.handleMouseDrag),window.addEventListener("mouseup",this.stopMouseDrag),window.addEventListener("mouseleave",this.stopMouseDrag))},handleMouseDrag(t){t.preventDefault();const e=t.clientX-this.currentMousePosX;this.$refs.board.scrollLeft=this.currentScrollPosX-e},stopMouseDrag(t){window.removeEventListener("mousemove",this.handleMouseDrag),window.removeEventListener("mouseup",this.stopMouseDrag),window.removeEventListener("mouseleave",this.stopMouseDrag)},fixActionRestriction(){document.body.classList.remove("smooth-dnd-no-user-select","smooth-dnd-disable-touch-action")}}};var Ka=r(79329),Qa={};Qa.styleTagTransform=D(),Qa.setAttributes=w(),Qa.insert=k().bind(null,"head"),Qa.domAPI=b(),Qa.insertStyleElement=B();f()(Ka.A,Qa);Ka.A&&Ka.A.locals&&Ka.A.locals;var Xa=(0,E.A)(Ya,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"board-wrapper",attrs:{tabindex:-1},on:{touchend:t.fixActionRestriction}},[e("Controls",{attrs:{board:t.board}}),t._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?e("div",{key:"loading",staticClass:"emptycontent"},[e("div",{staticClass:"icon icon-loading"}),t._v(" "),e("h2",[t._v(t._s(t.t("deck","Loading board")))]),t._v(" "),e("p")]):t.board?t.isEmpty?e("NcEmptyContent",{key:"empty",scopedSlots:t._u([{key:"icon",fn:function(){return[e("DeckIcon")]},proxy:!0},{key:"name",fn:function(){return[t._v("\n\t\t\t\t"+t._s(t.t("deck","No lists available"))+"\n\t\t\t")]},proxy:!0},t.canManage?{key:"action",fn:function(){return[t._v("\n\t\t\t\t"+t._s(t.t("deck","Create a new list to add cards to this board"))+"\n\t\t\t\t"),e("form",{on:{submit:function(e){return e.preventDefault(),t.addNewStack()}}},[e("NcTextField",{ref:"newStackInput",attrs:{disable:t.loading,value:t.newStackTitle,placeholder:t.t("deck","List name"),type:"text"},on:{"update:value":function(e){t.newStackTitle=e}}}),t._v(" "),e("NcButton",{attrs:{type:"secondary","native-type":"submit",disabled:t.loading,title:t.t("deck","Add list")},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("NcLoadingIcon",{attrs:{size:20}}):e("CheckIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,77803760)},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("deck","Add list"))+"\n\t\t\t\t\t")])],1)]},proxy:!0}:null],null,!0)}):t.isEmpty||t.loading?t._e():e("div",{key:"board",ref:"board",staticClass:"board",on:{mousedown:t.onMouseDown}},[e("Container",{attrs:{"lock-axix":"y",orientation:"horizontal","drag-handle-selector":t.dragHandleSelector,"data-click-closes-sidebar":"true"},on:{"drag-start":function(e){t.draggingStack=!0},"drag-end":function(e){t.draggingStack=!1},drop:t.onDropStack}},t._l(t.stacksByBoard,(function(a){return e("Draggable",{key:a.id,staticClass:"stack-draggable-wrapper",attrs:{"data-click-closes-sidebar":"true","data-dragscroll-enabled":""}},[e("Stack",{attrs:{stack:a,dragging:t.draggingStack,"data-click-closes-sidebar":"true"}})],1)})),1)],1):e("div",{key:"notfound",staticClass:"emptycontent"},[e("div",{staticClass:"icon icon-deck"}),t._v(" "),e("h2",[t._v(t._s(t.t("deck","Board not found")))]),t._v(" "),e("p")])],1),t._v(" "),t.isFullApp?e("GlobalSearchResults"):t._e(),t._v(" "),t.localModal?e("NcModal",{attrs:{"clear-view-delay":0,"close-button-contained":!0,size:"large"},on:{close:function(e){t.localModal=null}}},[e("div",{staticClass:"modal__content modal__card"},[e("CardSidebar",{attrs:{id:t.localModal},on:{close:function(e){t.localModal=null}}})],1)]):t._e()],1)}),[],!1,null,"046cdef2",null);const Va=Xa.exports;var Ja=r(77764);const Za=new G.f,tr={name:"BoardReferenceWidget",store:ct,components:{DeckIcon:xt.A,NcUserBubble:Ja.A,Board:Va},provide:()=>({boardApi:Za}),props:{richObjectType:{type:String,default:""},richObject:{type:Object,default:null},accessible:{type:Boolean,default:!0},interactive:{type:Boolean,default:!1}},computed:{board(){return this.richObject.board},boardLink(){return(0,$.Jv)("/apps/deck/#/board/{boardId}",{boardId:this.board.id})},boardTooltip(){return t("deck","Deck board {name}\n* Last modified on {lastMod}",{name:this.board.title,lastMod:Gt.A.unix(this.board.lastModified).format("LLL")})},boardOwnerUserId(){return this.board.owner?.uid??"???"},boardOwnerDisplayName(){return this.board.owner?.displayname??this.boardOwnerUserId}},created(){this.$store.commit("setFullApp",!1)}};var er=r(47301),ar={};ar.styleTagTransform=D(),ar.setAttributes=w(),ar.insert=k().bind(null,"head"),ar.domAPI=b(),ar.insertStyleElement=B();f()(er.A,ar);er.A&&er.A.locals&&er.A.locals;const rr=(0,E.A)(tr,(function(){var t=this,e=t._self._c;return t.interactive?e("div",{staticClass:"deck-board-reference-interactive"},[e("Board",{attrs:{id:t.board.id}})],1):e("div",{staticClass:"deck-board-reference"},[e("div",{staticClass:"line"},[e("DeckIcon",{staticClass:"title-icon",attrs:{size:20}}),t._v(" "),e("strong",[e("a",{staticClass:"link",attrs:{href:t.boardLink,title:t.boardTooltip,target:"_blank"}},[t._v("\n\t\t\t\t"+t._s(t.board.title)+"\n\t\t\t")])])],1),t._v(" "),e("div",{staticClass:"line"},[t._v("\n\t\t"+t._s(t.t("deck","Owner")+": ")+"\n\t\t"),e("NcUserBubble",{attrs:{user:t.boardOwnerUserId,"display-name":t.boardOwnerDisplayName}})],1)])}),[],!1,null,"5ea0696f",null).exports},25288:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});const r=a(61727).A},16866:(t,e,a)=>{"use strict";a(86397)},98383:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg%20viewBox=%270%200%2016%2016%27%20height=%2716%27%20width=%2716%27%20xmlns=%27http://www.w3.org/2000/svg%27%20xml:space=%27preserve%27%20style=%27fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2%27%3e%3cpath%20d=%27M6.4%2019%205%2017.6l5.6-5.6L5%206.4%206.4%205l5.6%205.6L17.6%205%2019%206.4%2013.4%2012l5.6%205.6-1.4%201.4-5.6-5.6L6.4%2019Z%27%20style=%27fill-rule:nonzero%27%20transform=%27matrix%28.85714%200%200%20.85714%20-2.286%20-2.286%29%27/%3e%3c/svg%3e"},39075:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg%20viewBox=%270%200%2016%2016%27%20height=%2716%27%20width=%2716%27%20xmlns=%27http://www.w3.org/2000/svg%27%20xml:space=%27preserve%27%20style=%27fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2%27%3e%3cpath%20d=%27M6.4%2019%205%2017.6l5.6-5.6L5%206.4%206.4%205l5.6%205.6L17.6%205%2019%206.4%2013.4%2012l5.6%205.6-1.4%201.4-5.6-5.6L6.4%2019Z%27%20style=%27fill:%23fff;fill-rule:nonzero%27%20transform=%27matrix%28.85714%200%200%20.85714%20-2.286%20-2.286%29%27/%3e%3c/svg%3e"}}]);
//# sourceMappingURL=deck-node_modules_moment_locale_sync_recursive_-src_views_BoardReferenceWidget_vue-data_image_svg_-373c63.js.map?v=88ac72369cb706aeb95d