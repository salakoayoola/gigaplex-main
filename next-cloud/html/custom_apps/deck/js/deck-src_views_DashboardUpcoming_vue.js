"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_DashboardUpcoming_vue"],{80483:(A,e,a)=>{a.d(e,{A:()=>s});var t=a(71354),r=a.n(t),d=a(76314),o=a.n(d)()(r());o.push([A.id,".due[data-v-335a1ab6]{background-position:4px center;border-radius:var(--border-radius-pill);padding:1px 8px;font-size:90%;display:flex;align-items:center;flex-shrink:1;z-index:2}[data-due-state=Overdue] .due[data-v-335a1ab6]{color:var(--color-error-text);background-color:rgba(var(--color-error-rgb), 0.1)}[data-due-state=Now] .due[data-v-335a1ab6]{color:var(--color-warning-text);background-color:rgba(var(--color-warning-rgb), 0.1)}[data-due-state=Done] .due[data-v-335a1ab6]{color:var(--color-success-text);background-color:rgba(var(--color-success-rgb), 0.1)}.due .due--label[data-v-335a1ab6]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:4px;font-size:13px}@media print{.icon.due[data-v-335a1ab6]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-335a1ab6]{display:none}.icon.due[data-v-335a1ab6]::before{content:attr(title)}}","",{version:3,sources:["webpack://./src/components/cards/badges/DueDate.vue"],names:[],mappings:"AACA,sBACC,8BAAA,CACA,uCAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,aAAA,CACA,SAAA,CAEA,+CACC,6BAAA,CACA,kDAAA,CAED,2CACC,+BAAA,CACA,oDAAA,CAED,4CACC,+BAAA,CACA,oDAAA,CAGD,kCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA",sourceRoot:""}]);const s=o},29354:(A,e,a)=>{a.d(e,{A:()=>s});var t=a(71354),r=a.n(t),d=a(76314),o=a.n(d)()(r());o.push([A.id,"/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.labels[data-v-545670f2]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-545670f2]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-545670f2]:hover{overflow:unset}.labels li span[data-v-545670f2]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card[data-v-545670f2]{display:block;border-radius:var(--border-radius-large);padding:8px;height:60px}.card[data-v-545670f2]:hover{background-color:var(--color-background-hover)}.card--header[data-v-545670f2]{overflow:hidden}.card--header .title[data-v-545670f2]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.labels[data-v-545670f2]{margin-left:0}.duedate[data-v-545670f2] .due{margin:0 0 0 10px;padding:2px 4px;font-size:90%}.right[data-v-545670f2]{float:right}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/components/dashboard/Card.vue"],names:[],mappings:"AAAA;;;EAAA,CAOA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CChCH,uBACC,aAAA,CACA,wCAAA,CACA,WAAA,CACA,WAAA,CAEA,6BACC,8CAAA,CAIF,+BACC,eAAA,CACA,sCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CAIF,yBACC,aAAA,CAGD,+BACC,iBAAA,CACA,eAAA,CACA,aAAA,CAGD,wBACC,WAAA",sourceRoot:""}]);const s=o},54590:(A,e,a)=>{a.d(e,{A:()=>s});var t=a(71354),r=a.n(t),d=a(76314),o=a.n(d)()(r());o.push([A.id,".center-button[data-v-e3707e58]{display:flex;align-items:center;justify-content:center;margin-top:10px}#deck-widget-empty-content[data-v-e3707e58]{text-align:center;margin-top:5vh}.card[data-v-e3707e58]{display:block;border-radius:var(--border-radius-large);padding:5px 8px;height:70px}.card[data-v-e3707e58]:hover{background-color:var(--color-background-hover)}.card--header[data-v-e3707e58]{overflow:hidden}.card--header .title[data-v-e3707e58]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;position:relative;top:3px}.labels[data-v-e3707e58]{margin-left:0;margin-top:3px}.duedate[data-v-e3707e58] .due{margin:0 0 0 10px;padding:0px 4px;font-size:90%;margin-bottom:7px}.right[data-v-e3707e58]{float:right}","",{version:3,sources:["webpack://./src/views/DashboardUpcoming.vue"],names:[],mappings:"AACA,gCACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAGD,4CACC,iBAAA,CACA,cAAA,CAGD,uBACC,aAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CACA,6BACC,8CAAA,CAIF,+BACC,eAAA,CACA,sCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CACA,iBAAA,CACA,OAAA,CAIF,yBACC,aAAA,CACA,cAAA,CAIA,+BACC,iBAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CAIF,wBACC,WAAA",sourceRoot:""}]);const s=o},37854:(A,e,a)=>{a.d(e,{A:()=>P});var r=a(95353),d=a(51651),o=a(87804),s=a(23034),n=a(85190);const C="Done",i="Future",l="Next",c="Now",u="Overdue",p={name:"DueDate",components:{CheckCircle:n.A,Clock:o.A,ClockOutline:s.A},props:{card:{type:Object,default:null}},computed:{...(0,r.aH)({compactMode:A=>A.compactMode}),dueState(){if(this.card.done)return C;const A=Math.floor((0,d.A)(this.card.duedate).diff(this.$root.time,"seconds")/60/60/24);return A<0?u:0===A?c:1===A?l:i},overdue(){return this.dueState===u},relativeDate(){const A=this.card.done?this.card.done:this.card.duedate,e=(0,d.A)(this.$root.time).diff(A,"seconds");return e>=0&&e<45?t("core","seconds ago"):(0,d.A)(A).fromNow()},absoluteDate(){const A=this.card.done?this.card.done:this.card.duedate;return(0,d.A)(A).format("LLLL")}}};var v=a(85072),h=a.n(v),g=a(97825),b=a.n(g),f=a(77659),m=a.n(f),k=a(55056),x=a.n(k),w=a(10540),B=a.n(w),D=a(41113),y=a.n(D),_=a(80483),M={};M.styleTagTransform=y(),M.setAttributes=x(),M.insert=m().bind(null,"head"),M.domAPI=b(),M.insertStyleElement=B();h()(_.A,M);_.A&&_.A.locals&&_.A.locals;var N=a(14486);const I=(0,N.A)(p,(function(){var A=this,e=A._self._c;return A.card?e("div",{staticClass:"duedate",attrs:{"data-due-state":A.dueState}},[e("transition",{attrs:{name:"zoom"}},[A.card.duedate||A.card.done?e("div",{staticClass:"due",attrs:{name:A.absoluteDate}},[A.card.done?e("CheckCircle",{attrs:{size:16}}):A.overdue?e("Clock",{attrs:{size:16}}):e("ClockOutline",{attrs:{size:16}}),A._v(" "),A.compactMode?A._e():e("span",{staticClass:"due--label"},[A._v(A._s(A.relativeDate))])],1):A._e()])],1):A._e()}),[],!1,null,"335a1ab6",null).exports;var S=a(63814);const W={name:"Card",components:{DueDate:I},mixins:[{mixins:[a(44095).A],computed:{labelStyle(){return A=>({backgroundColor:"#"+A.color,color:this.textColor(A.color)})}}}],props:{card:{type:Object,required:!0}},computed:{cardLink(){return(0,S.Jv)("/apps/deck")+`#/board/${this.card.boardId}/card/${this.card.id}`}}};var z=a(29354),E={};E.styleTagTransform=y(),E.setAttributes=x(),E.insert=m().bind(null,"head"),E.domAPI=b(),E.insertStyleElement=B();h()(z.A,E);z.A&&z.A.locals&&z.A.locals;const P=(0,N.A)(W,(function(){var A=this,e=A._self._c;return e("a",{key:A.card.id,staticClass:"card",attrs:{href:A.cardLink,target:"_blank"}},[e("div",{staticClass:"card--header"},[e("DueDate",{staticClass:"right",attrs:{card:A.card}}),A._v(" "),e("span",{staticClass:"title",attrs:{dir:"auto"}},[A._v(A._s(A.card.title))])],1),A._v(" "),A.card.labels&&A.card.labels.length?e("ul",{staticClass:"labels"},A._l(A.card.labels,(function(a){return e("li",{key:a.id,style:A.labelStyle(a)},[e("span",{attrs:{dir:"auto"}},[A._v(A._s(a.title))])])})),0):A._e()])}),[],!1,null,"545670f2",null).exports},34281:(A,e,a)=>{a.d(e,{default:()=>w});var t=a(49954),r=a(76333),d=a(95353),o=a(37854),s=a(63814);const n={name:"DashboardUpcoming",components:{CreateNewCardCustomPicker:a(4587).default,NcModal:r.FH,NcDashboardWidget:r.gu,NcButton:r.x1,PlusIcon:t.A,Card:o.A},data:()=>({loading:!1,showAddCardModal:!1}),computed:{...(0,d.L8)(["assignedCardsDashboard"]),cards(){const A=[...this.assignedCardsDashboard].filter((A=>null!==A.duedate));return A.sort(((A,e)=>new Date(A.duedate).getTime()-new Date(e.duedate).getTime())),A.slice(0,5)},showMoreUrl(){return this.cards.length>7?(0,s.Jv)("/apps/deck"):null}},beforeMount(){this.loading=!0,this.$store.dispatch("loadUpcoming").then((()=>{this.loading=!1}))},methods:{toggleAddCardModel(){this.showAddCardModal=!this.showAddCardModal}}};var C=a(85072),i=a.n(C),l=a(97825),c=a.n(l),u=a(77659),p=a.n(u),v=a(55056),h=a.n(v),g=a(10540),b=a.n(g),f=a(41113),m=a.n(f),k=a(54590),x={};x.styleTagTransform=m(),x.setAttributes=h(),x.insert=p().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=b();i()(k.A,x);k.A&&k.A.locals&&k.A.locals;const w=(0,a(14486).A)(n,(function(){var A=this,e=A._self._c;return e("div",[e("NcDashboardWidget",{attrs:{items:A.cards,"empty-content-icon":"icon-deck","empty-content-message":A.t("deck","No upcoming cards"),"show-more-text":A.t("deck","upcoming cards"),loading:A.loading},on:{hide:()=>{},markDone:()=>{}},scopedSlots:A._u([{key:"default",fn:function(A){let{item:a}=A;return[e("Card",{attrs:{card:a}})]}}])}),A._v(" "),e("div",{staticClass:"center-button"},[e("NcButton",{on:{click:A.toggleAddCardModel},scopedSlots:A._u([{key:"icon",fn:function(){return[e("PlusIcon",{attrs:{size:20}})]},proxy:!0}])},[A._v("\n\t\t\t"+A._s(A.t("deck","New card"))+"\n\t\t")]),A._v(" "),A.showAddCardModal?e("NcModal",{staticClass:"card-selector",on:{close:A.toggleAddCardModel}},[e("CreateNewCardCustomPicker",{attrs:{"show-created-notice":""},on:{cancel:A.toggleAddCardModel}})],1):A._e()],1)],1)}),[],!1,null,"e3707e58",null).exports}}]);
//# sourceMappingURL=deck-src_views_DashboardUpcoming_vue.js.map?v=65b2e9b903848b209531